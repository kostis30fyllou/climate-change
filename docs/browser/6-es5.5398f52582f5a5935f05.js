function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{TDBs:function(t,e,n){"use strict";n.r(e),n.d(e,"DashboardModule",(function(){return Sv}));var i=n("tyNb"),r=n("fXoL"),o=n("ofXK"),a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},s=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return a(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}},l=s(a).right,u=function(t){return null===t?NaN:+t},c=function(t,e){var n,i,r,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(i=r=n;++a<o;)null!=(n=t[a])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=r=n;++a<o;)null!=(n=e(t[a],a,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},h=Math.sqrt(50),f=Math.sqrt(10),d=Math.sqrt(2);function p(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=h?10:o>=f?5:o>=d?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=h?10:o>=f?5:o>=d?2:1)}function m(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=h?r*=10:o>=f?r*=5:o>=d&&(r*=2),e<t?-r:r}var v=function(t,e){var n,i=t.length,r=i,o=-1,a=0;if(null==e)for(;++o<i;)isNaN(n=u(t[o]))?--r:a+=n;else for(;++o<i;)isNaN(n=u(e(t[o],o,t)))?--r:a+=n;if(r)return a/r},g=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--a]=i[e];return n},_=Array.prototype.slice,y=function(t){return t};function b(t){return"translate("+(t+.5)+",0)"}function k(t){return"translate(0,"+(t+.5)+")"}function w(t){return function(e){return+t(e)}}function C(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function x(){return!this.__axis}function O(t,e){var n=[],i=null,r=null,o=6,a=6,s=3,l=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",c=1===t||3===t?b:k;function h(h){var f=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,d=null==r?e.tickFormat?e.tickFormat.apply(e,n):y:r,p=Math.max(o,0)+s,m=e.range(),v=+m[0]+.5,g=+m[m.length-1]+.5,_=(e.bandwidth?C:w)(e.copy()),b=h.selection?h.selection():h,k=b.selectAll(".domain").data([null]),O=b.selectAll(".tick").data(f,e).order(),S=O.exit(),E=O.enter().append("g").attr("class","tick"),M=O.select("line"),A=O.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(E),M=M.merge(E.append("line").attr("stroke","currentColor").attr(u+"2",l*o)),A=A.merge(E.append("text").attr("fill","currentColor").attr(u,l*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==b&&(k=k.transition(h),O=O.transition(h),M=M.transition(h),A=A.transition(h),S=S.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=_(t))?c(t):this.getAttribute("transform")})),E.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:_(t))}))),S.remove(),k.attr("d",4===t||2==t?a?"M"+l*a+","+v+"H0.5V"+g+"H"+l*a:"M0.5,"+v+"V"+g:a?"M"+v+","+l*a+"V0.5H"+g+"V"+l*a:"M"+v+",0.5H"+g),O.attr("opacity",1).attr("transform",(function(t){return c(_(t))})),M.attr(u+"2",l*o),A.attr(u,l*p).text(d),b.filter(x).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=_}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=_.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:_.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:_.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(r=t,h):r},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function S(t){return O(3,t)}function E(t){return O(4,t)}var M={value:function(){}};function A(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new R(i)}function R(t){this._=t}function P(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function V(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function D(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=M,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}R.prototype=A.prototype={constructor:R,on:function(t,e){var n,i=this._,r=P(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=D(i[n],t.name,e);else if(null==e)for(n in i)i[n]=D(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=V(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new R(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var T=A;function I(){}var N=function(t){return null==t?I:function(){return this.querySelector(t)}};function j(){return[]}var F=function(t){return null==t?j:function(){return this.querySelectorAll(t)}},L=function(t){return function(){return this.matches(t)}},z=function(t){return new Array(t.length)};function B(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function H(t,e,n,i,r,o){for(var a,s=0,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new B(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function W(t,e,n,i,r,o,a){var s,l,u,c={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=u="$"+a.call(l,l.__data__,s,e),u in c?r[s]=l:c[u]=l);for(s=0;s<f;++s)(l=c[u="$"+a.call(t,o[s],s,o)])?(i[s]=l,l.__data__=o[s],c[u]=null):n[s]=new B(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&c[d[s]]===l&&(r[s]=l)}function U(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}B.prototype={constructor:B,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Y="http://www.w3.org/1999/xhtml",G={svg:"http://www.w3.org/2000/svg",xhtml:Y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},X=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),G.hasOwnProperty(e)?{space:G[e],local:t}:t};function q(t){return function(){this.removeAttribute(t)}}function Z(t){return function(){this.removeAttributeNS(t.space,t.local)}}function K(t,e){return function(){this.setAttribute(t,e)}}function Q(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function J(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var tt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function et(t){return function(){this.style.removeProperty(t)}}function nt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function it(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function rt(t,e){return t.style.getPropertyValue(e)||tt(t).getComputedStyle(t,null).getPropertyValue(e)}function ot(t){return function(){delete this[t]}}function at(t,e){return function(){this[t]=e}}function st(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function lt(t){return t.trim().split(/^|\s+/)}function ut(t){return t.classList||new ct(t)}function ct(t){this._node=t,this._names=lt(t.getAttribute("class")||"")}function ht(t,e){for(var n=ut(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function ft(t,e){for(var n=ut(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function dt(t){return function(){ht(this,t)}}function pt(t){return function(){ft(this,t)}}function mt(t,e){return function(){(e.apply(this,arguments)?ht:ft)(this,t)}}function vt(){this.textContent=""}function gt(t){return function(){this.textContent=t}}function _t(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function yt(){this.innerHTML=""}function bt(t){return function(){this.innerHTML=t}}function kt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function wt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Y&&e.documentElement.namespaceURI===Y?e.createElement(t):e.createElementNS(n,t)}}function Ot(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}ct.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var St=function(t){var e=X(t);return(e.local?Ot:xt)(e)};function Et(){return null}function Mt(){var t=this.parentNode;t&&t.removeChild(this)}function At(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Rt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var Pt={},Vt=null;function Dt(t,e,n){return t=Tt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Tt(t,e,n){return function(i){var r=Vt;Vt=i;try{t.call(this,this.__data__,e,n)}finally{Vt=r}}}function It(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Nt(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function jt(t,e,n){var i=Pt.hasOwnProperty(t.type)?Dt:Tt;return function(r,o,a){var s,l=this.__on,u=i(e,o,a);if(l)for(var c=0,h=l.length;c<h;++c)if((s=l[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function Ft(t,e,n,i){var r=Vt;t.sourceEvent=Vt,Vt=t;try{return e.apply(n,i)}finally{Vt=r}}function Lt(t,e,n){var i=tt(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function zt(t,e){return function(){return Lt(this,t,e)}}function Bt(t,e){return function(){return Lt(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Pt={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ht=[null];function Wt(t,e){this._groups=t,this._parents=e}function Ut(){return new Wt([[document.documentElement]],Ht)}Wt.prototype=Ut.prototype={constructor:Wt,select:function(t){"function"!=typeof t&&(t=N(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],l=s.length,u=i[r]=new Array(l),c=0;c<l;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new Wt(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=F(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),r.push(a));return new Wt(i,r)},filter:function(t){"function"!=typeof t&&(t=L(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new Wt(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each((function(t){p[++c]=t})),p;var n,i=e?W:H,r=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var h=r[c],f=o[c],d=f.length,p=t.call(h,h&&h.__data__,c,r),m=p.length,v=l[c]=new Array(m),g=s[c]=new Array(m);i(h,f,v,g,u[c]=new Array(d),p,e);for(var _,y,b=0,k=0;b<m;++b)if(_=v[b]){for(b>=k&&(k=b+1);!(y=g[k])&&++k<m;);_._next=y||null}}return(s=new Wt(s,r))._enter=l,s._exit=u,s},enter:function(){return new Wt(this._enter||this._groups.map(z),this._parents)},exit:function(){return new Wt(this._exit||this._groups.map(z),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),o=new Array(i),a=0;a<r;++a)for(var s,l=e[a],u=n[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f]||u[f])&&(h[f]=s);for(;a<i;++a)o[a]=e[a];return new Wt(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=U);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,u=r[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(e)}return new Wt(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var n=X(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Z:q:"function"==typeof e?n.local?J:$:n.local?Q:K)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?et:"function"==typeof e?it:nt)(t,e,null==n?"":n)):rt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ot:"function"==typeof e?st:at)(t,e)):this.node()[t]},classed:function(t,e){var n=lt(t+"");if(arguments.length<2){for(var i=ut(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?mt:e?dt:pt)(n,e))},text:function(t){return arguments.length?this.each(null==t?vt:("function"==typeof t?_t:gt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?yt:("function"==typeof t?kt:bt)(t)):this.node().innerHTML},raise:function(){return this.each(wt)},lower:function(){return this.each(Ct)},append:function(t){var e="function"==typeof t?t:St(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:St(t),i=null==e?Et:"function"==typeof e?e:N(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Mt)},clone:function(t){return this.select(t?Rt:At)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=It(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?jt:Nt,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(i=0,l=s[u];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Bt:zt)(t,e))}};var Yt=Ut,Gt=function(t){return"string"==typeof t?new Wt([[document.querySelector(t)]],[document.documentElement]):new Wt([[t]],Ht)},Xt=function(){Vt.preventDefault(),Vt.stopImmediatePropagation()},qt=function(t){var e=t.document.documentElement,n=Gt(t).on("dragstart.drag",Xt,!0);"onselectstart"in e?n.on("selectstart.drag",Xt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Zt(t,e){var n=t.document.documentElement,i=Gt(t).on("dragstart.drag",null);e&&(i.on("click.drag",Xt,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Kt=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Qt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function $t(){}var Jt="\\s*([+-]?\\d+)\\s*",te="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ee="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ne=/^#([0-9a-f]{3,8})$/,ie=new RegExp("^rgb\\("+[Jt,Jt,Jt]+"\\)$"),re=new RegExp("^rgb\\("+[ee,ee,ee]+"\\)$"),oe=new RegExp("^rgba\\("+[Jt,Jt,Jt,te]+"\\)$"),ae=new RegExp("^rgba\\("+[ee,ee,ee,te]+"\\)$"),se=new RegExp("^hsl\\("+[te,ee,ee]+"\\)$"),le=new RegExp("^hsla\\("+[te,ee,ee,te]+"\\)$"),ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ce(){return this.rgb().formatHex()}function he(){return this.rgb().formatRgb()}function fe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?de(e):3===n?new ge(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?pe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?pe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ie.exec(t))?new ge(e[1],e[2],e[3],1):(e=re.exec(t))?new ge(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=oe.exec(t))?pe(e[1],e[2],e[3],e[4]):(e=ae.exec(t))?pe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=se.exec(t))?ke(e[1],e[2]/100,e[3]/100,1):(e=le.exec(t))?ke(e[1],e[2]/100,e[3]/100,e[4]):ue.hasOwnProperty(t)?de(ue[t]):"transparent"===t?new ge(NaN,NaN,NaN,0):null}function de(t){return new ge(t>>16&255,t>>8&255,255&t,1)}function pe(t,e,n,i){return i<=0&&(t=e=n=NaN),new ge(t,e,n,i)}function me(t){return t instanceof $t||(t=fe(t)),t?new ge((t=t.rgb()).r,t.g,t.b,t.opacity):new ge}function ve(t,e,n,i){return 1===arguments.length?me(t):new ge(t,e,n,null==i?1:i)}function ge(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function _e(){return"#"+be(this.r)+be(this.g)+be(this.b)}function ye(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function be(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ke(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ce(t,e,n,i)}function we(t){if(t instanceof Ce)return new Ce(t.h,t.s,t.l,t.opacity);if(t instanceof $t||(t=fe(t)),!t)return new Ce;if(t instanceof Ce)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Ce(a,s,l,t.opacity)}function Ce(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function xe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Oe(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}Kt($t,fe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ce,formatHex:ce,formatHsl:function(){return we(this).formatHsl()},formatRgb:he,toString:he}),Kt(ge,ve,Qt($t,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ge(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ge(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_e,formatHex:_e,formatRgb:ye,toString:ye})),Kt(Ce,(function(t,e,n,i){return 1===arguments.length?we(t):new Ce(t,e,n,null==i?1:i)}),Qt($t,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ce(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ce(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new ge(xe(t>=240?t-240:t+120,r,i),xe(t,r,i),xe(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Se=function(t){return function(){return t}};function Ee(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Se(isNaN(t)?e:t)}var Me=function t(e){var n=function(t){return 1==(t=+t)?Ee:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Se(isNaN(e)?n:e)}}(e);function i(t,e){var i=n((t=ve(t)).r,(e=ve(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=Ee(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function Ae(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=ve(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}Ae((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1];return Oe((n-i/e)*e,i>0?t[i-1]:2*r-o,r,o,i<e-1?t[i+2]:2*o-r)}})),Ae((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e);return Oe((n-i/e)*e,t[(i+e-1)%e],t[i%e],t[(i+1)%e],t[(i+2)%e])}}));var Re=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}};function Pe(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=ze(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}var Ve,De,Te=function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}},Ie=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Ne=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=ze(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},je=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fe=new RegExp(je.source,"g"),Le=function(t,e){var n,i,r,o=je.lastIndex=Fe.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=je.exec(t))&&(i=Fe.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Ie(n,i)})),o=Fe.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})},ze=function(t,e){var n,i,r=typeof e;return null==e||"boolean"===r?Se(e):("number"===r?Ie:"string"===r?(n=fe(e))?(e=n,Me):Le:e instanceof fe?Me:e instanceof Date?Te:(i=e,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(e)?Pe:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ne:Ie:Re))(t,e)},Be=function(){for(var t,e=Vt;t=e.sourceEvent;)e=t;return e},He=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},We=function(t,e,n){arguments.length<3&&(n=e,e=Be().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return He(t,i);return null},Ue=function(t){var e=Be();return e.changedTouches&&(e=e.changedTouches[0]),He(t,e)},Ye=0,Ge=0,Xe=0,qe=0,Ze=0,Ke=0,Qe="object"==typeof performance&&performance.now?performance:Date,$e="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Je(){return Ze||($e(tn),Ze=Qe.now()+Ke)}function tn(){Ze=0}function en(){this._call=this._time=this._next=null}function nn(t,e,n){var i=new en;return i.restart(t,e,n),i}function rn(){Ze=(qe=Qe.now())+Ke,Ye=Ge=0;try{!function(){Je(),++Ye;for(var t,e=Ve;e;)(t=Ze-e._time)>=0&&e._call.call(null,t),e=e._next;--Ye}()}finally{Ye=0,function(){for(var t,e,n=Ve,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ve=e);De=t,an(i)}(),Ze=0}}function on(){var t=Qe.now(),e=t-qe;e>1e3&&(Ke-=e,qe=t)}function an(t){Ye||(Ge&&(Ge=clearTimeout(Ge)),t-Ze>24?(t<1/0&&(Ge=setTimeout(rn,t-Qe.now()-Ke)),Xe&&(Xe=clearInterval(Xe))):(Xe||(qe=Qe.now(),Xe=setInterval(on,1e3)),Ye=1,$e(rn)))}en.prototype=nn.prototype={constructor:en,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Je():+n)+(null==e?0:+e),this._next||De===this||(De?De._next=this:Ve=this,De=this),this._call=t,this._time=n,an()},stop:function(){this._call&&(this._call=null,this._time=1/0,an())}};var sn=function(t,e,n){var i=new en;return i.restart((function(n){i.stop(),t(n+e)}),e=null==e?0:+e,n),i},ln=T("start","end","cancel","interrupt"),un=[],cn=function(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(l){var u,c,h,f;if(1!==n.state)return s();for(u in r)if((f=r[u]).name===n.name){if(3===f.state)return sn(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(sn((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=f);i.length=c+1}}function a(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=nn((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:r,on:ln,tween:un,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function hn(t,e){var n=dn(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function fn(t,e){var n=dn(t,e);if(n.state>3)throw new Error("too late; already running");return n}function dn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var pn,mn,vn,gn,_n=function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}},yn=180/Math.PI,bn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},kn=function(t,e,n,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*yn,skewX:Math.atan(l)*yn,scaleX:a,scaleY:s}};function wn(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Ie(t,r)},{i:l-2,x:Ie(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Ie(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Ie(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,a.skewX,s,l),function(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Ie(t,n)},{i:s-2,x:Ie(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,i=l.length;++n<i;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Cn=wn((function(t){return"none"===t?bn:(pn||(pn=document.createElement("DIV"),mn=document.documentElement,vn=document.defaultView),pn.style.transform=t,t=vn.getComputedStyle(mn.appendChild(pn),null).getPropertyValue("transform"),mn.removeChild(pn),t=t.slice(7,-1).split(","),kn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),xn=wn((function(t){return null==t?bn:(gn||(gn=document.createElementNS("http://www.w3.org/2000/svg","g")),gn.setAttribute("transform",t),(t=gn.transform.baseVal.consolidate())?kn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):bn)}),", ",")",")");function On(t,e){var n,i;return function(){var r=fn(this,t),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}r.tween=i}}function Sn(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=fn(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=s;break}l===u&&r.push(s)}o.tween=r}}function En(t,e,n){var i=t._id;return t.each((function(){var t=fn(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return dn(t,i).value[e]}}var Mn=function(t,e){var n;return("number"==typeof e?Ie:e instanceof fe?Me:(n=fe(e))?(e=n,Me):Le)(t,e)};function An(t){return function(){this.removeAttribute(t)}}function Rn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pn(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}}function Vn(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}function Dn(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttribute(t)}}function Tn(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttributeNS(t.space,t.local)}}function In(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Nn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function jn(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Nn(t,r)),n}return r._value=e,r}function Fn(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&In(t,r)),n}return r._value=e,r}function Ln(t,e){return function(){hn(this,t).delay=+e.apply(this,arguments)}}function zn(t,e){return e=+e,function(){hn(this,t).delay=e}}function Bn(t,e){return function(){fn(this,t).duration=+e.apply(this,arguments)}}function Hn(t,e){return e=+e,function(){fn(this,t).duration=e}}function Wn(t,e){if("function"!=typeof e)throw new Error;return function(){fn(this,t).ease=e}}function Un(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?hn:fn;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}var Yn=Yt.prototype.constructor;function Gn(t){return function(){this.style.removeProperty(t)}}function Xn(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function qn(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&Xn(t,o,n)),i}return o._value=e,o}function Zn(t){return function(e){this.textContent=t.call(this,e)}}function Kn(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Zn(i)),e}return i._value=t,i}var Qn=0;function $n(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Jn(){return++Qn}var ti=Yt.prototype;$n.prototype=(function(t){return Yt().transition(t)}).prototype={constructor:$n,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=N(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,u=i[a],c=u.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=u[f])&&(l=t.call(s,s.__data__,f,u))&&("__data__"in s&&(l.__data__=s.__data__),h[f]=l,cn(h[f],e,n,f,h,dn(s,n)));return new $n(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=F(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,u=i[s],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var f,d=t.call(l,l.__data__,h,u),p=dn(l,n),m=0,v=d.length;m<v;++m)(f=d[m])&&cn(f,e,n,m,d,p);o.push(d),a.push(l)}return new $n(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=L(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new $n(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),o=new Array(i),a=0;a<r;++a)for(var s,l=e[a],u=n[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f]||u[f])&&(h[f]=s);for(;a<i;++a)o[a]=e[a];return new $n(o,this._parents,this._name,this._id)},selection:function(){return new Yn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Jn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=dn(a,e);cn(a,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new $n(i,this._parents,t,n)},call:ti.call,nodes:ti.nodes,node:ti.node,size:ti.size,empty:ti.empty,each:ti.each,on:function(t,e){var n=this._id;return arguments.length<2?dn(this.node(),n).on.on(t):this.each(Un(n,t,e))},attr:function(t,e){var n=X(t),i="transform"===n?xn:Mn;return this.attrTween(t,"function"==typeof e?(n.local?Tn:Dn)(n,i,En(this,"attr."+t,e)):null==e?(n.local?Rn:An)(n):(n.local?Vn:Pn)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=X(t);return this.tween(n,(i.local?jn:Fn)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?Cn:Mn;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=rt(this,t),a=(this.style.removeProperty(t),rt(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}(t,i)).on("end.style."+t,Gn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var a=rt(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=rt(this,t)),a===l?null:a===i&&l===r?o:(r=l,o=e(i=a,s))}}(t,i,En(this,"style."+t,e))).each(function(t,e){var n,i,r,o,a="style."+e,s="end."+a;return function(){var l=fn(this,t),u=l.on,c=null==l.value[a]?o||(o=Gn(e)):void 0;u===n&&r===c||(i=(n=u).copy()).on(s,r=c),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var a=rt(this,t);return a===o?null:a===i?r:r=e(i=a,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,qn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(En(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Kn(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=dn(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?On:Sn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ln:zn)(e,t)):dn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Bn:Hn)(e,t)):dn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Wn(e,t)):dn(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--r&&o()}};n.each((function(){var n=fn(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))}};var ei={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ni(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ei.time=Je(),ei;return n}Yt.prototype.interrupt=function(t){return this.each((function(){_n(this,t)}))},Yt.prototype.transition=function(t){var e,n;t instanceof $n?(e=t._id,t=t._name):(e=Jn(),(n=ei).time=Je(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)(a=s[u])&&cn(a,t,e,u,s,n||ni(a,e));return new $n(i,this._parents,t,e)};var ii=function(t){return function(){return t}},ri=function(t,e,n){this.target=t,this.type=e,this.selection=n};function oi(){Vt.stopImmediatePropagation()}var ai=function(){Vt.preventDefault(),Vt.stopImmediatePropagation()},si={name:"drag"},li={name:"space"},ui={name:"handle"},ci={name:"center"};function hi(t){return[+t[0],+t[1]]}function fi(t){return[hi(t[0]),hi(t[1])]}function di(t){return function(e){return We(e,Vt.touches,t)}}var pi={name:"x",handles:["w","e"].map(ki),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},mi={name:"y",handles:["n","s"].map(ki),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},vi=(["n","w","e","s","nw","ne","sw","se"].map(ki),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),gi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_i={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},yi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},bi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ki(t){return{type:t}}function wi(){return!Vt.ctrlKey&&!Vt.button}function Ci(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function xi(){return navigator.maxTouchPoints||"ontouchstart"in this}function Oi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Si(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ei(){return function(t){var e,n=Ci,i=wi,r=xi,o=!0,a=T("start","brush","end"),s=6;function l(e){var n=e.property("__brush",m).selectAll(".overlay").data([ki("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",vi.overlay).merge(n).each((function(){var t=Oi(this).extent;Gt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([ki("selection")]).enter().append("rect").attr("class","selection").attr("cursor",vi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return vi[t.type]})),e.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){var t=Gt(this),e=Oi(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,e,n){return!n&&t.__brush.emitter||new h(t,e)}function h(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function f(){if((!e||Vt.touches)&&i.apply(this,arguments)){var n,r,a,s,l,h,f,d,p,m,v,g=this,_=Vt.target.__data__.type,y="selection"===(o&&Vt.metaKey?_="overlay":_)?si:o&&Vt.altKey?ci:ui,b=t===mi?null:yi[_],k=t===pi?null:bi[_],w=Oi(g),C=w.extent,x=w.selection,O=C[0][0],S=C[0][1],E=C[1][0],M=C[1][1],A=0,R=0,P=b&&k&&o&&Vt.shiftKey,V=Vt.touches?di(Vt.changedTouches[0].identifier):Ue,D=V(g),T=D,I=c(g,arguments,!0).beforestart();"overlay"===_?(x&&(p=!0),w.selection=x=[[n=t===mi?O:D[0],a=t===pi?S:D[1]],[l=t===mi?E:n,f=t===pi?M:a]]):(n=x[0][0],a=x[0][1],l=x[1][0],f=x[1][1]),r=n,s=a,h=l,d=f;var N=Gt(g).attr("pointer-events","none"),j=N.selectAll(".overlay").attr("cursor",vi[_]);if(Vt.touches)I.moved=L,I.ended=B;else{var F=Gt(Vt.view).on("mousemove.brush",L,!0).on("mouseup.brush",B,!0);o&&F.on("keydown.brush",H,!0).on("keyup.brush",W,!0),qt(Vt.view)}oi(),_n(g),u.call(g),I.start()}function L(){var t=V(g);!P||m||v||(Math.abs(t[0]-T[0])>Math.abs(t[1]-T[1])?v=!0:m=!0),T=t,p=!0,ai(),z()}function z(){var t;switch(A=T[0]-D[0],R=T[1]-D[1],y){case li:case si:b&&(A=Math.max(O-n,Math.min(E-l,A)),r=n+A,h=l+A),k&&(R=Math.max(S-a,Math.min(M-f,R)),s=a+R,d=f+R);break;case ui:b<0?(A=Math.max(O-n,Math.min(E-n,A)),r=n+A,h=l):b>0&&(A=Math.max(O-l,Math.min(E-l,A)),r=n,h=l+A),k<0?(R=Math.max(S-a,Math.min(M-a,R)),s=a+R,d=f):k>0&&(R=Math.max(S-f,Math.min(M-f,R)),s=a,d=f+R);break;case ci:b&&(r=Math.max(O,Math.min(E,n-A*b)),h=Math.max(O,Math.min(E,l+A*b))),k&&(s=Math.max(S,Math.min(M,a-R*k)),d=Math.max(S,Math.min(M,f+R*k)))}h<r&&(b*=-1,t=n,n=l,l=t,t=r,r=h,h=t,_ in gi&&j.attr("cursor",vi[_=gi[_]])),d<s&&(k*=-1,t=a,a=f,f=t,t=s,s=d,d=t,_ in _i&&j.attr("cursor",vi[_=_i[_]])),w.selection&&(x=w.selection),m&&(r=x[0][0],h=x[1][0]),v&&(s=x[0][1],d=x[1][1]),x[0][0]===r&&x[0][1]===s&&x[1][0]===h&&x[1][1]===d||(w.selection=[[r,s],[h,d]],u.call(g),I.brush())}function B(){if(oi(),Vt.touches){if(Vt.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Zt(Vt.view,p),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);N.attr("pointer-events","all"),j.attr("cursor",vi.overlay),w.selection&&(x=w.selection),Si(x)&&(w.selection=null,u.call(g)),I.end()}function H(){switch(Vt.keyCode){case 16:P=b&&k;break;case 18:y===ui&&(b&&(l=h-A*b,n=r+A*b),k&&(f=d-R*k,a=s+R*k),y=ci,z());break;case 32:y!==ui&&y!==ci||(b<0?l=h-A:b>0&&(n=r-A),k<0?f=d-R:k>0&&(a=s-R),y=li,j.attr("cursor",vi.selection),z());break;default:return}ai()}function W(){switch(Vt.keyCode){case 16:P&&(m=v=P=!1,z());break;case 18:y===ci&&(b<0?l=h:b>0&&(n=r),k<0?f=d:k>0&&(a=s),y=ui,z());break;case 32:y===li&&(Vt.altKey?(b&&(l=h-A*b,n=r+A*b),k&&(f=d-R*k,a=s+R*k),y=ci):(b<0?l=h:b>0&&(n=r),k<0?f=d:k>0&&(a=s),y=ui),j.attr("cursor",vi[_]),z());break;default:return}ai()}}function d(){c(this,arguments).moved()}function p(){c(this,arguments).ended()}function m(){var e=this.__brush||{selection:null};return e.extent=fi(n.apply(this,arguments)),e.dim=t,e}return l.move=function(e,n){e.selection?e.on("start.brush",(function(){c(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){c(this,arguments).end()})).tween("brush",(function(){var e=this,i=e.__brush,r=c(e,arguments),o=i.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),s=ze(o,a);function l(t){i.selection=1===t&&null===a?null:s(t),u.call(e),r.brush()}return null!==o&&null!==a?l:l(1)})):e.each((function(){var e=this,i=arguments,r=e.__brush,o=t.input("function"==typeof n?n.apply(e,i):n,r.extent),a=c(e,i).beforestart();_n(e),r.selection=null===o?null:o,u.call(e),a.start().brush().end()}))},l.clear=function(t){l.move(t,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Ft(new ri(l,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},l.extent=function(t){return arguments.length?(n="function"==typeof t?t:ii(fi(t)),l):n},l.filter=function(t){return arguments.length?(i="function"==typeof t?t:ii(!!t),l):i},l.touchable=function(t){return arguments.length?(r="function"==typeof t?t:ii(!!t),l):r},l.handleSize=function(t){return arguments.length?(s=+t,l):s},l.keyModifiers=function(t){return arguments.length?(o=!!t,l):o},l.on=function(){var t=a.on.apply(a,arguments);return t===a?l:t},l}(pi)}Math,Math,Math,Math;var Mi=Math.PI,Ai=2*Mi,Ri=Ai-1e-6;function Pi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Vi(){return new Pi}Pi.prototype=Vi.prototype={constructor:Pi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){var o=this._x1,a=this._y1,s=(n=+n)-(t=+t),l=(i=+i)-(e=+e),u=o-t,c=a-e,h=u*u+c*c;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*s-l*u)>1e-6&&r){var f=n-o,d=i-a,p=s*s+l*l,m=f*f+d*d,v=Math.sqrt(p),g=Math.sqrt(h),_=r*Math.tan((Mi-Math.acos((p+h-m)/(2*v*g)))/2),y=_/g,b=_/v;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*u)+","+(e+y*c)),this._+="A"+r+","+r+",0,0,"+ +(c*f>u*d)+","+(this._x1=t+b*s)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=t+a,u=e+s,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(h<0&&(h=h%Ai+Ai),h>Ri?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Mi)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Di=Vi;function Ti(){}function Ii(t,e){var n=new Ti;if(t instanceof Ti)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function Ni(){}Ti.prototype=Ii.prototype={constructor:Ti,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var ji=Ii.prototype;Ni.prototype=(function(t,e){var n=new Ni;if(t instanceof Ni)t.each((function(t){n.add(t)}));else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}).prototype={constructor:Ni,has:ji.has,add:function(t){return this["$"+(t+="")]=t,this},remove:ji.remove,clear:ji.clear,values:ji.keys,size:ji.size,empty:ji.empty,each:ji.each};var Fi={},Li={};function zi(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Bi(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function Hi(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}var Wi=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,a=0,s=0,l=o<=0,u=!1;function c(){if(l)return Li;if(u)return u=!1,Fi;var e,i,r=a;if(34===t.charCodeAt(r)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?l=!0:10===(i=t.charCodeAt(a++))?u=!0:13===i&&(u=!0,10===t.charCodeAt(a)&&++a),t.slice(r+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(i=t.charCodeAt(e=a++)))u=!0;else if(13===i)u=!0,10===t.charCodeAt(a)&&++a;else if(i!==n)continue;return t.slice(r,e)}return l=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=c())!==Li;){for(var h=[];i!==Fi&&i!==Li;)h.push(i),i=c();e&&null==(h=e(h,s++))||r.push(h)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?(r=(n=t).getUTCHours(),o=n.getUTCMinutes(),a=n.getUTCSeconds(),s=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((i=n.getUTCFullYear())<0?"-"+Hi(-i,6):i>9999?"+"+Hi(i,6):Hi(i,4))+"-"+Hi(n.getUTCMonth()+1,2)+"-"+Hi(n.getUTCDate(),2)+(s?"T"+Hi(r,2)+":"+Hi(o,2)+":"+Hi(a,2)+"."+Hi(s,3)+"Z":a?"T"+Hi(r,2)+":"+Hi(o,2)+":"+Hi(a,2)+"Z":o||r?"T"+Hi(r,2)+":"+Hi(o,2)+"Z":"")):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t;var n,i,r,o,a,s}return{parse:function(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=zi(t);return function(i,r){return e(n(i),r,t)}}(t,e):zi(t)}));return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=Bi(e)),[n.map(a).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Bi(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},Ui=Wi(",").parse,Yi=Wi("\t").parse;function Gi(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Xi=function(t,e){return fetch(t,e).then(Gi)};function qi(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),Xi(e,n).then((function(e){return t(e,i)}))}}var Zi=qi(Ui);function Ki(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}qi(Yi);var Qi=function(t,e){return fetch(t,e).then(Ki)};function $i(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,l,u,c,h,f,d=t._root,p={data:i},m=t._x0,v=t._y0,g=t._x1,_=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((u=e>=(o=(m+g)/2))?m=o:g=o,(c=n>=(a=(v+_)/2))?v=a:_=a,r=d,!(d=d[h=c<<1|u]))return r[h]=p,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===s&&n===l)return p.next=d,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(m+g)/2))?m=o:g=o,(c=n>=(a=(v+_)/2))?v=a:_=a}while((h=c<<1|u)==(f=(l>=a)<<1|s>=o));return r[f]=d,r[h]=p,t}var Ji=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function tr(t){return t[0]}function er(t){return t[1]}function nr(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function ir(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var rr=(function(t,e,n){var i=new nr(null==e?tr:e,null==n?er:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}).prototype=nr.prototype;rr.copy=function(){var t,e,n=new nr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=ir(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=ir(e));return n},rr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return $i(this.cover(e,n),e,n,t)},rr.addAll=function(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(a[n]=i,s[n]=r,i<l&&(l=i),i>c&&(c=i),r<u&&(u=r),r>h&&(h=r));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<o;++n)$i(this,a[n],s[n],t[n]);return this},rr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var a,s,l=r-n,u=this._root;n>t||t>=r||i>e||e>=o;)switch(s=(e<i)<<1|t<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},rr.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},rr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},rr.find=function(t,e,n){var i,r,o,a,s,l,u,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new Ji(m,c,h,f,d)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,d=e+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(r=l.x0)>f||(o=l.y0)>d||(a=l.x1)<c||(s=l.y1)<h))if(m.length){var v=(r+a)/2,g=(o+s)/2;p.push(new Ji(m[3],v,g,a,s),new Ji(m[2],r,g,v,s),new Ji(m[1],v,o,a,g),new Ji(m[0],r,o,v,g)),(u=(e>=g)<<1|t>=v)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var _=t-+this._x.call(null,m.data),y=e-+this._y.call(null,m.data),b=_*_+y*y;if(b<n){var k=Math.sqrt(n=b);c=t-k,h=e-k,f=t+k,d=e+k,i=m.data}}return i},rr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,l,u,c,h,f,d=this._root,p=this._x0,m=this._y0,v=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((u=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(l=(m+g)/2))?m=l:g=l,e=d,!(d=d[h=c<<1|u]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=r,this)},rr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},rr.root=function(){return this._root},rr.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},rr.visit=function(t){var e,n,i,r,o,a,s=[],l=this._root;for(l&&s.push(new Ji(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&l.length){var u=(i+o)/2,c=(r+a)/2;(n=l[3])&&s.push(new Ji(n,u,c,o,a)),(n=l[2])&&s.push(new Ji(n,i,c,u,a)),(n=l[1])&&s.push(new Ji(n,u,r,o,c)),(n=l[0])&&s.push(new Ji(n,i,r,u,c))}return this},rr.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new Ji(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,l=e.x1,u=e.y1,c=(a+l)/2,h=(s+u)/2;(o=r[0])&&n.push(new Ji(o,a,s,c,h)),(o=r[1])&&n.push(new Ji(o,c,s,l,h)),(o=r[2])&&n.push(new Ji(o,a,h,c,u)),(o=r[3])&&n.push(new Ji(o,c,h,l,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},rr.x=function(t){return arguments.length?(this._x=t,this):this._x},rr.y=function(t){return arguments.length?(this._y=t,this):this._y},Math,Math.sqrt(5);var or=function(t){return t};function ar(t,e){t&&lr.hasOwnProperty(t.type)&&lr[t.type](t,e)}var sr={Feature:function(t,e){ar(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)ar(n[i].geometry,e)}},lr={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)e.point((t=n[i])[0],t[1],t[2])},LineString:function(t,e){ur(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)ur(n[i],e,0)},Polygon:function(t,e){cr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)cr(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)ar(n[i],e)}};function ur(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)e.point((i=t[r])[0],i[1],i[2]);e.lineEnd()}function cr(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)ur(t[n],e,1);e.polygonEnd()}var hr=function(t,e){t&&sr.hasOwnProperty(t.type)?sr[t.type](t,e):ar(t,e)},fr=function(){return new dr};function dr(){this.reset()}dr.prototype={constructor:dr,reset:function(){this.s=this.t=0},add:function(t){mr(pr,t,this.t),mr(this,pr.s,this.s),this.s?this.t+=pr.t:this.s=pr.t},valueOf:function(){return this.s}};var pr=new dr;function mr(t,e,n){var i=t.s=e+n,r=i-e;t.t=e-(i-r)+(n-r)}var vr=Math.PI,gr=vr/2,_r=vr/4,yr=2*vr,br=180/vr,kr=vr/180,wr=Math.abs,Cr=Math.atan,xr=Math.atan2,Or=Math.cos,Sr=(Math,Math.exp),Er=(Math,Math.log),Mr=(Math,Math.sin),Ar=Math.sign||function(t){return t>0?1:t<0?-1:0},Rr=Math.sqrt,Pr=Math.tan;function Vr(t){return t>1?gr:t<-1?-gr:Math.asin(t)}function Dr(){}var Tr,Ir,Nr,jr,Fr=fr(),Lr=fr(),zr={point:Dr,lineStart:Dr,lineEnd:Dr,polygonStart:function(){zr.lineStart=Br,zr.lineEnd=Ur},polygonEnd:function(){zr.lineStart=zr.lineEnd=zr.point=Dr,Fr.add(wr(Lr)),Lr.reset()},result:function(){var t=Fr/2;return Fr.reset(),t}};function Br(){zr.point=Hr}function Hr(t,e){zr.point=Wr,Tr=Nr=t,Ir=jr=e}function Wr(t,e){Lr.add(jr*t-Nr*e),Nr=t,jr=e}function Ur(){Wr(Tr,Ir)}var Yr,Gr,Xr,qr,Zr=zr,Kr=1/0,Qr=Kr,$r=-Kr,Jr=$r,to={point:function(t,e){t<Kr&&(Kr=t),t>$r&&($r=t),e<Qr&&(Qr=e),e>Jr&&(Jr=e)},lineStart:Dr,lineEnd:Dr,polygonStart:Dr,polygonEnd:Dr,result:function(){var t=[[Kr,Qr],[$r,Jr]];return $r=Jr=-(Qr=Kr=1/0),t}},eo=0,no=0,io=0,ro=0,oo=0,ao=0,so=0,lo=0,uo=0,co={point:ho,lineStart:fo,lineEnd:vo,polygonStart:function(){co.lineStart=go,co.lineEnd=_o},polygonEnd:function(){co.point=ho,co.lineStart=fo,co.lineEnd=vo},result:function(){var t=uo?[so/uo,lo/uo]:ao?[ro/ao,oo/ao]:io?[eo/io,no/io]:[NaN,NaN];return eo=no=io=ro=oo=ao=so=lo=uo=0,t}};function ho(t,e){eo+=t,no+=e,++io}function fo(){co.point=po}function po(t,e){co.point=mo,ho(Xr=t,qr=e)}function mo(t,e){var n=t-Xr,i=e-qr,r=Rr(n*n+i*i);ro+=r*(Xr+t)/2,oo+=r*(qr+e)/2,ao+=r,ho(Xr=t,qr=e)}function vo(){co.point=ho}function go(){co.point=yo}function _o(){bo(Yr,Gr)}function yo(t,e){co.point=bo,ho(Yr=Xr=t,Gr=qr=e)}function bo(t,e){var n=t-Xr,i=e-qr,r=Rr(n*n+i*i);ro+=r*(Xr+t)/2,oo+=r*(qr+e)/2,ao+=r,so+=(r=qr*t-Xr*e)*(Xr+t),lo+=r*(qr+e),uo+=3*r,ho(Xr=t,qr=e)}var ko=co;function wo(t){this._context=t}wo.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,yr)}},result:Dr};var Co,xo,Oo,So,Eo,Mo=fr(),Ao={point:Dr,lineStart:function(){Ao.point=Ro},lineEnd:function(){Co&&Po(xo,Oo),Ao.point=Dr},polygonStart:function(){Co=!0},polygonEnd:function(){Co=null},result:function(){var t=+Mo;return Mo.reset(),t}};function Ro(t,e){Ao.point=Po,xo=So=t,Oo=Eo=e}function Po(t,e){Mo.add(Rr((So-=t)*So+(Eo-=e)*Eo)),So=t,Eo=e}var Vo=Ao;function Do(){this._string=[]}function To(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Do.prototype={_radius:4.5,_circle:To(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=To(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Io=function(t,e){var n,i,r=4.5;function o(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),hr(t,n(i))),i.result()}return o.area=function(t){return hr(t,n(Zr)),Zr.result()},o.measure=function(t){return hr(t,n(Vo)),Vo.result()},o.bounds=function(t){return hr(t,n(to)),to.result()},o.centroid=function(t){return hr(t,n(ko)),ko.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,or):(t=e).stream,o):t},o.context=function(t){return arguments.length?(i=null==t?(e=null,new Do):new wo(e=t),"function"!=typeof r&&i.pointRadius(r),o):e},o.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),o):r},o.projection(t).context(e)},No=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n};function jo(t,e){return[wr(t)>vr?t+Math.round(-t/yr)*yr:t,e]}function Fo(t,e,n){return(t%=yr)?e||n?No(zo(t),Bo(e,n)):zo(t):e||n?Bo(e,n):jo}function Lo(t){return function(e,n){return[(e+=t)>vr?e-yr:e<-vr?e+yr:e,n]}}function zo(t){var e=Lo(t);return e.invert=Lo(-t),e}function Bo(t,e){var n=Or(t),i=Mr(t),r=Or(e),o=Mr(e);function a(t,e){var a=Or(e),s=Or(t)*a,l=Mr(t)*a,u=Mr(e),c=u*n+s*i;return[xr(l*r-c*o,s*n-u*i),Vr(c*r+l*o)]}return a.invert=function(t,e){var a=Or(e),s=Or(t)*a,l=Mr(t)*a,u=Mr(e),c=u*r-l*o;return[xr(l*r+u*o,s*n+c*i),Vr(c*n-s*i)]},a}jo.invert=jo;var Ho=function(){var t,e=[];return{point:function(e,n,i){t.push([e,n,i])},lineStart:function(){e.push(t=[])},lineEnd:Dr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Wo=function(t,e){return wr(t[0]-e[0])<1e-6&&wr(t[1]-e[1])<1e-6};function Uo(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var Yo=function(t,e,n,i,r){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],a=t[e];if(Wo(i,a)){if(!i[2]&&!a[2]){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a[0]+=2e-6}s.push(n=new Uo(i,t,null,!0)),l.push(n.o=new Uo(i,null,n,!1)),s.push(n=new Uo(a,t,null,!1)),l.push(n.o=new Uo(a,null,n,!0))}})),s.length){for(l.sort(e),Go(s),Go(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=u.length;o<a;++o)r.point((c=u[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(d)for(o=(u=f.p.z).length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}u=(f=f.o).z,d=!d}while(!f.v);r.lineEnd()}}};function Go(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Xo(t){return[xr(t[1],t[0]),Vr(t[2])]}function qo(t){var e=t[0],n=t[1],i=Or(n);return[i*Or(e),i*Mr(e),Mr(n)]}function Zo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ko(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Qo(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function $o(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Jo(t){var e=Rr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ta=fr();function ea(t){return wr(t[0])<=vr?t[0]:Ar(t[0])*((wr(t[0])+vr)%yr-vr)}var na=function(t,e,n,i){return function(r){var o,a,s,l=e(r),u=Ho(),c=e(u),h=!1,f={point:d,lineStart:m,lineEnd:v,polygonStart:function(){f.point=_,f.lineStart=y,f.lineEnd=b,a=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=m,f.lineEnd=v,a=g(a);var t=function(t,e){var n=ea(e),i=e[1],r=Mr(i),o=[Mr(n),-Or(n),0],a=0,s=0;ta.reset(),1===r?i=gr+1e-6:-1===r&&(i=-gr-1e-6);for(var l=0,u=t.length;l<u;++l)if(h=(c=t[l]).length)for(var c,h,f=c[h-1],d=ea(f),p=f[1]/2+_r,m=Mr(p),v=Or(p),g=0;g<h;++g,d=y,m=k,v=w,f=_){var _=c[g],y=ea(_),b=_[1]/2+_r,k=Mr(b),w=Or(b),C=y-d,x=C>=0?1:-1,O=x*C,S=O>vr,E=m*k;if(ta.add(xr(E*x*Mr(O),v*w+E*Or(O))),a+=S?C+x*yr:C,S^d>=n^y>=n){var M=Ko(qo(f),qo(_));Jo(M);var A=Ko(o,M);Jo(A);var R=(S^C>=0?-1:1)*Vr(A[2]);(i>R||i===R&&(M[0]||M[1]))&&(s+=S^C>=0?1:-1)}}return(a<-1e-6||a<1e-6&&ta<-1e-6)^1&s}(o,i);a.length?(h||(r.polygonStart(),h=!0),Yo(a,ra,t,n,r)):t&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(e,n){t(e,n)&&r.point(e,n)}function p(t,e){l.point(t,e)}function m(){f.point=p,l.lineStart()}function v(){f.point=d,l.lineEnd()}function _(t,e){s.push([t,e]),c.point(t,e)}function y(){c.lineStart(),s=[]}function b(){_(s[0][0],s[0][1]),c.lineEnd();var t,e,n,i,l=c.clean(),f=u.result(),d=f.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if((e=(n=f[0]).length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else d>1&&2&l&&f.push(f.pop().concat(f.shift())),a.push(f.filter(ia))}return f}};function ia(t){return t.length>1}function ra(t,e){return((t=t.x)[0]<0?t[1]-gr-1e-6:gr-t[1])-((e=e.x)[0]<0?e[1]-gr-1e-6:gr-e[1])}var oa=na((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?vr:-vr,l=wr(o-n);wr(l-vr)<1e-6?(t.point(n,i=(i+a)/2>0?gr:-gr),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&l>=vr&&(wr(n-r)<1e-6&&(n-=1e-6*r),wr(o-s)<1e-6&&(o-=1e-6*s),i=function(t,e,n,i){var r,o,a=Mr(t-n);return wr(a)>1e-6?Cr((Mr(e)*(o=Or(i))*Mr(n)-Mr(i)*(r=Or(e))*Mr(t))/(r*o*a)):(e+i)/2}(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)i.point(-vr,r=n*gr),i.point(0,r),i.point(vr,r),i.point(vr,0),i.point(vr,-r),i.point(0,-r),i.point(-vr,-r),i.point(-vr,0),i.point(-vr,r);else if(wr(t[0]-e[0])>1e-6){var o=t[0]<e[0]?vr:-vr;i.point(-o,r=n*o/2),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),[-vr,-gr]);function aa(t,e){(e=qo(e))[0]-=t,Jo(e);var n,i=(n=-e[1])>1?0:n<-1?vr:Math.acos(n);return((-e[2]<0?-i:i)+yr-1e-6)%yr}var sa=function(t){var e=Or(t),n=6*kr,i=e>0,r=wr(e)>1e-6;function o(t,n){return Or(t)*Or(n)>e}function a(t,n,i){var r=[1,0,0],o=Ko(qo(t),qo(n)),a=Zo(o,o),s=o[0],l=a-s*s;if(!l)return!i&&t;var u=e*a/l,c=-e*s/l,h=Ko(r,o),f=$o(r,u);Qo(f,$o(o,c));var d=h,p=Zo(f,d),m=Zo(d,d),v=p*p-m*(Zo(f,f)-1);if(!(v<0)){var g=Rr(v),_=$o(d,(-p-g)/m);if(Qo(_,f),_=Xo(_),!i)return _;var y,b=t[0],k=n[0],w=t[1],C=n[1];k<b&&(y=b,b=k,k=y);var x=k-b,O=wr(x-vr)<1e-6;if(!O&&C<w&&(y=w,w=C,C=y),O||x<1e-6?O?w+C>0^_[1]<(wr(_[0]-b)<1e-6?w:C):w<=_[1]&&_[1]<=C:x>vr^(b<=_[0]&&_[0]<=k)){var S=$o(d,(-p+g)/m);return Qo(S,f),[_,Xo(S)]}}}function s(e,n){var r=i?t:vr-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return na(o,(function(t){var e,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,f){var d,p=[h,f],m=o(h,f),v=i?m?0:s(h,f):m?s(h+(h<0?vr:-vr),f):0;if(!e&&(u=l=m)&&t.lineStart(),m!==l&&(!(d=a(e,p))||Wo(e,d)||Wo(p,d))&&(p[2]=1),m!==l)c=0,m?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(r&&e&&i^m){var g;v&n||!(g=a(p,e,!0))||(c=0,i?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1],3)))}!m||e&&Wo(e,p)||t.point(p[0],p[1]),e=p,l=m,n=v},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}}),(function(e,i,r,o){!function(t,e,n,i,r,o){if(n){var a=Or(e),s=Mr(e),l=i*n;null==r?(r=e+i*yr,o=e-l/2):(r=aa(a,r),o=aa(a,o),(i>0?r<o:r>o)&&(r+=i*yr));for(var u,c=r;i>0?c>o:c<o;c-=l)u=Xo([a,-s*Or(c),-s*Mr(c)]),t.point(u[0],u[1])}}(o,t,n,r,e,i)}),i?[0,-t]:[-vr,t-vr])};function la(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,s,u){var c=0,h=0;if(null==r||(c=a(r,s))!==(h=a(o,s))||l(r,o)<0^s>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+s+4)%4)!==h);else u.point(o[0],o[1])}function a(i,r){return wr(i[0]-t)<1e-6?r>0?0:3:wr(i[0]-n)<1e-6?r>0?2:1:wr(i[1]-e)<1e-6?r>0?1:0:r>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,u,c,h,f,d,p,m,v,_,y,b=a,k=Ho(),w={point:C,lineStart:function(){w.point=x,u&&u.push(c=[]),_=!0,v=!1,p=m=NaN},lineEnd:function(){l&&(x(h,f),d&&v&&k.rejoin(),l.push(k.result())),w.point=C,v&&b.lineEnd()},polygonStart:function(){b=k,l=[],u=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=u.length;n<r;++n)for(var o,a,s=u[n],l=1,c=s.length,h=s[0],f=h[0],d=h[1];l<c;++l)o=f,a=d,f=(h=s[l])[0],d=h[1],a<=i?d>i&&(f-o)*(i-a)>(d-a)*(t-o)&&++e:d<=i&&(f-o)*(i-a)<(d-a)*(t-o)&&--e;return e}(),n=y&&e,r=(l=g(l)).length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&Yo(l,s,e,o,a),a.polygonEnd()),b=a,l=u=c=null}};function C(t,e){r(t,e)&&b.point(t,e)}function x(o,a){var s=r(o,a);if(u&&c.push([o,a]),_)h=o,f=a,d=s,_=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&v)b.point(o,a);else{var l=[p=Math.max(-1e9,Math.min(1e9,p)),m=Math.max(-1e9,Math.min(1e9,m))],g=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(t,e,n,i,r,o){var a,s=t[0],l=t[1],u=0,c=1,h=e[0]-s,f=e[1]-l;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=r-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}if(a=i-l,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}return u>0&&(t[0]=s+u*h,t[1]=l+u*f),c<1&&(e[0]=s+c*h,e[1]=l+c*f),!0}}}}}(l,g,t,e,n,i)?s&&(b.lineStart(),b.point(o,a),y=!1):(v||(b.lineStart(),b.point(l[0],l[1])),b.point(g[0],g[1]),s||b.lineEnd(),y=!1)}p=o,m=a,v=s}return w}}function ua(t){return function(e){var n=new ca;for(var i in t)n[i]=t[i];return n.stream=e,n}}function ca(){}function ha(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),hr(n,t.stream(to)),e(to.result()),null!=i&&t.clipExtent(i),t}function fa(t,e,n){return ha(t,(function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),a=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}ca.prototype={constructor:ca,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var da=Or(30*kr),pa=function(t,e){return+e?function(t,e){function n(i,r,o,a,s,l,u,c,h,f,d,p,m,v){var g=u-i,_=c-r,y=g*g+_*_;if(y>4*e&&m--){var b=a+f,k=s+d,w=l+p,C=Rr(b*b+k*k+w*w),x=Vr(w/=C),O=wr(wr(w)-1)<1e-6||wr(o-h)<1e-6?(o+h)/2:xr(k,b),S=t(O,x),E=S[0],M=S[1],A=E-i,R=M-r,P=_*A-g*R;(P*P/y>e||wr((g*A+_*R)/y-.5)>.3||a*f+s*d+l*p<da)&&(n(i,r,o,a,s,l,E,M,O,b/=C,k/=C,w,m,v),v.point(E,M),n(E,M,O,b,k,w,u,c,h,f,d,p,m,v))}}return function(e){var i,r,o,a,s,l,u,c,h,f,d,p,m={point:v,lineStart:g,lineEnd:y,polygonStart:function(){e.polygonStart(),m.lineStart=b},polygonEnd:function(){e.polygonEnd(),m.lineStart=g}};function v(n,i){n=t(n,i),e.point(n[0],n[1])}function g(){c=NaN,m.point=_,e.lineStart()}function _(i,r){var o=qo([i,r]),a=t(i,r);n(c,h,u,f,d,p,c=a[0],h=a[1],u=i,f=o[0],d=o[1],p=o[2],16,e),e.point(c,h)}function y(){m.point=v,e.lineEnd()}function b(){g(),m.point=k,m.lineEnd=w}function k(t,e){_(i=t,e),r=c,o=h,a=f,s=d,l=p,m.point=_}function w(){n(c,h,u,f,d,p,r,o,i,a,s,l,16,e),m.lineEnd=y,y()}return m}}(t,e):function(t){return ua({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},ma=ua({point:function(t,e){this.stream.point(t*kr,e*kr)}});function va(t,e,n,i,r){function o(o,a){return[e+t*(o*=i),n-t*(a*=r)]}return o.invert=function(o,a){return[(o-e)/t*i,(n-a)/t*r]},o}function ga(t,e,n,i,r,o){var a=Or(o),s=Mr(o),l=a*t,u=s*t,c=a/t,h=s/t,f=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return[l*(t*=i)-u*(o*=r)+e,n-u*t-l*o]}return p.invert=function(t,e){return[i*(c*t-h*e+f),r*(d-h*t-c*e)]},p}function _a(t,e){return[t,Er(Pr((gr+e)/2))]}_a.invert=function(t,e){return[t,2*Cr(Sr(e))-gr]};var ya=function(){return function(t){var e,n,i,r=function(t){return function(t){var e,n,i,r,o,a,s,l,u,c,h=150,f=480,d=250,p=0,m=0,v=0,g=0,_=0,y=0,b=1,k=1,w=null,C=oa,x=null,O=or,S=.5;function E(t){return l(t[0]*kr,t[1]*kr)}function M(t){return(t=l.invert(t[0],t[1]))&&[t[0]*br,t[1]*br]}function A(){var t=ga(h,0,0,b,k,y).apply(null,e(p,m)),i=(y?ga:va)(h,f-t[0],d-t[1],b,k,y);return n=Fo(v,g,_),s=No(e,i),l=No(n,s),a=pa(s,S),R()}function R(){return u=c=null,E}return E.stream=function(t){return u&&c===t?u:u=ma(function(t){return ua({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)(C(a(O(c=t)))))},E.preclip=function(t){return arguments.length?(C=t,w=void 0,R()):C},E.postclip=function(t){return arguments.length?(O=t,x=i=r=o=null,R()):O},E.clipAngle=function(t){return arguments.length?(C=+t?sa(w=t*kr):(w=null,oa),R()):w*br},E.clipExtent=function(t){return arguments.length?(O=null==t?(x=i=r=o=null,or):la(x=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),R()):null==x?null:[[x,i],[r,o]]},E.scale=function(t){return arguments.length?(h=+t,A()):h},E.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],A()):[f,d]},E.center=function(t){return arguments.length?(p=t[0]%360*kr,m=t[1]%360*kr,A()):[p*br,m*br]},E.rotate=function(t){return arguments.length?(v=t[0]%360*kr,g=t[1]%360*kr,_=t.length>2?t[2]%360*kr:0,A()):[v*br,g*br,_*br]},E.angle=function(t){return arguments.length?(y=t%360*kr,A()):y*br},E.reflectX=function(t){return arguments.length?(b=t?-1:1,A()):b<0},E.reflectY=function(t){return arguments.length?(k=t?-1:1,A()):k<0},E.precision=function(t){return arguments.length?(a=pa(s,S=t*t),R()):Rr(S)},E.fitExtent=function(t,e){return fa(E,t,e)},E.fitSize=function(t,e){return function(t,e,n){return fa(t,[[0,0],e],n)}(E,t,e)},E.fitWidth=function(t,e){return function(t,e,n){return ha(t,(function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,a=-r*n[0][1];t.scale(150*r).translate([o,a])}),n)}(E,t,e)},E.fitHeight=function(t,e){return function(t,e,n){return ha(t,(function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],a=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,a])}),n)}(E,t,e)},function(){return e=t.apply(this,arguments),E.invert=e.invert&&M,A()}}((function(){return t}))()}(t),o=r.center,a=r.scale,s=r.translate,l=r.clipExtent,u=null;function c(){var o=vr*a(),s=r(function(t){function e(e){return(e=t(e[0]*kr,e[1]*kr))[0]*=br,e[1]*=br,e}return t=Fo(t[0]*kr,t[1]*kr,t.length>2?t[2]*kr:0),e.invert=function(e){return(e=t.invert(e[0]*kr,e[1]*kr))[0]*=br,e[1]*=br,e},e}(r.rotate()).invert([0,0]));return l(null==u?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===_a?[[Math.max(s[0]-o,u),e],[Math.min(s[0]+o,n),i]]:[[u,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,i)]])}return r.scale=function(t){return arguments.length?(a(t),c()):a()},r.translate=function(t){return arguments.length?(s(t),c()):s()},r.center=function(t){return arguments.length?(o(t),c()):o()},r.clipExtent=function(t){return arguments.length?(null==t?u=e=n=i=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),c()):null==u?null:[[u,e],[n,i]]},c()}(_a).scale(961/yr)},ba=function(){return Math.random()},ka=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(ba),function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(ba)),wa=(function t(e){function n(){var t=ka.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(ba),function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(ba));function Ca(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}(function t(e){function n(t){var n=wa.source(e)(t);return function(){return n()/t}}return n.source=t,n})(ba),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(ba);var xa=Array.prototype,Oa=xa.map,Sa=xa.slice,Ea=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},Ma=function(t){return+t},Aa=[0,1];function Ra(t){return t}function Pa(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Va(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function Da(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=Pa(r,i),o=n(a,o)):(i=Pa(i,r),o=n(o,a)),function(t){return o(i(t))}}function Ta(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=Pa(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=l(t,e,1,i)-1;return o[n](r[n](e))}}function Ia(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Na(t,e){return function(){var t,e,n,i,r,o,a=Aa,s=Aa,l=ze,u=Ra;function c(){return i=Math.min(a.length,s.length)>2?Ta:Da,r=o=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(a.map(t),s,l)))(t(u(e)))}return h.invert=function(n){return u(e((o||(o=i(s,a.map(t),Ie)))(n)))},h.domain=function(t){return arguments.length?(a=Oa.call(t,Ma),u===Ra||(u=Va(a)),c()):a.slice()},h.range=function(t){return arguments.length?(s=Sa.call(t),c()):s.slice()},h.rangeRound=function(t){return s=Sa.call(t),l=Ea,c()},h.clamp=function(t){return arguments.length?(u=t?Va(a):Ra,h):u!==Ra},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}()(t,e)}var ja=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fa(t){if(!(e=ja.exec(t)))throw new Error("invalid format: "+t);var e;return new La({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function La(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Fa.prototype=La.prototype,La.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var za,Ba,Ha,Wa,Ua=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},Ya=function(t){return(t=Ua(Math.abs(t)))?t[1]:NaN},Ga=function(t,e){var n=Ua(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Xa={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ga(100*t,e)},r:Ga,s:function(t,e){var n=Ua(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(za=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Ua(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},qa=function(t){return t},Za=Array.prototype.map,Ka=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Qa(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=p(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;return i&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return function(t,e,n,i){var r,o=m(t,e,n);switch((i=Fa(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ya(e)/3)))-Ya(Math.abs(t)))}(o,a))||(i.precision=r),Wa(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ya(e)-Ya(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Ya(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Ha(i)}(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&(i=s,s=l,l=i,i=o,o=a,a=i),(i=p(s,l,n))>0?i=p(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,n):i<0&&(i=p(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i,e(r)):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i,e(r)),t},t}function $a(){var t=Na(Ra,Ra);return t.copy=function(){return Ia(t,$a())},Ca.apply(t,arguments),Qa(t)}Ba=function(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?qa:(e=Za.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?qa:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Za.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Fa(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,m=t.comma,v=t.precision,g=t.trim,_=t.type;"n"===_?(m=!0,_="g"):Xa[_]||(void 0===v&&(v=12),g=!0,_="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var y="$"===f?r:"#"===f&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",b="$"===f?o:/[%p]/.test(_)?l:"",k=Xa[_],w=/[defgprs%]/.test(_);function C(t){var r,o,l,f=y,C=b;if("c"===_)C=k(t)+C,t="";else{var x=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:k(Math.abs(t),v),g&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),x&&0==+t&&"+"!==h&&(x=!1),f=(x?"("===h?h:u:"-"===h||"("===h?"":h)+f,C=("s"===_?Ka[8+za/3]:"")+C+(x&&"("===h?")":""),w)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){C=(46===l?a+t.slice(r+1):t.slice(r))+C,t=t.slice(0,r);break}}m&&!d&&(t=i(t,1/0));var O=f.length+t.length+C.length,S=O<p?new Array(p-O+1).join(e):"";switch(m&&d&&(t=i(S+t,S.length?p-C.length:1/0),S=""),n){case"<":t=f+t+C+S;break;case"=":t=f+S+t+C;break;case"^":t=S.slice(0,O=S.length>>1)+f+t+C+S.slice(O);break;default:t=S+f+t+C}return s(t)}return v=void 0===v?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),C.toString=function(){return t+""},C}return{format:h,formatPrefix:function(t,e){var n=h(((t=Fa(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Ya(e)/3))),r=Math.pow(10,-i),o=Ka[8+i/3];return function(t){return n(r*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Ha=Ba.format,Wa=Ba.formatPrefix;var Ja=new Date,ts=new Date;function es(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<i);return s},r.filter=function(n){return es((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return Ja.setTime(+e),ts.setTime(+i),t(Ja),t(ts),Math.floor(n(Ja,ts))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var ns=es((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));ns.every=function(t){return isFinite(t=Math.floor(t))&&t>0?es((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var is=ns,rs=es((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));function os(t){return es((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var as=os(0),ss=os(1),ls=(os(2),os(3),os(4)),us=(os(5),os(6),es((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),cs=es((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),hs=es((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),fs=es((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),ds=es((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));ds.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?es((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ds:null};var ps=ds;function ms(t){return es((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var vs=ms(0),gs=ms(1),_s=(ms(2),ms(3),ms(4)),ys=(ms(5),ms(6),es((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),bs=es((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));bs.every=function(t){return isFinite(t=Math.floor(t))&&t>0?es((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var ks=bs;function ws(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Cs(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xs(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Os,Ss,Es={"-":"",_:" ",0:"0"},Ms=/^\s*\d+/,As=/^%/,Rs=/[\\^$*+?|[\]().{}]/g;function Ps(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Vs(t){return t.replace(Rs,"\\$&")}function Ds(t){return new RegExp("^(?:"+t.map(Vs).join("|")+")","i")}function Ts(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Is(t,e,n){var i=Ms.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ns(t,e,n){var i=Ms.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function js(t,e,n){var i=Ms.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Fs(t,e,n){var i=Ms.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Ls(t,e,n){var i=Ms.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function zs(t,e,n){var i=Ms.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Bs(t,e,n){var i=Ms.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Hs(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Ws(t,e,n){var i=Ms.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function Us(t,e,n){var i=Ms.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Ys(t,e,n){var i=Ms.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Gs(t,e,n){var i=Ms.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Xs(t,e,n){var i=Ms.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function qs(t,e,n){var i=Ms.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Zs(t,e,n){var i=Ms.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Ks(t,e,n){var i=Ms.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Qs(t,e,n){var i=Ms.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function $s(t,e,n){var i=As.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Js(t,e,n){var i=Ms.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function tl(t,e,n){var i=Ms.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function el(t,e){return Ps(t.getDate(),e,2)}function nl(t,e){return Ps(t.getHours(),e,2)}function il(t,e){return Ps(t.getHours()%12||12,e,2)}function rl(t,e){return Ps(1+us.count(is(t),t),e,3)}function ol(t,e){return Ps(t.getMilliseconds(),e,3)}function al(t,e){return ol(t,e)+"000"}function sl(t,e){return Ps(t.getMonth()+1,e,2)}function ll(t,e){return Ps(t.getMinutes(),e,2)}function ul(t,e){return Ps(t.getSeconds(),e,2)}function cl(t){var e=t.getDay();return 0===e?7:e}function hl(t,e){return Ps(as.count(is(t)-1,t),e,2)}function fl(t,e){var n=t.getDay();return t=n>=4||0===n?ls(t):ls.ceil(t),Ps(ls.count(is(t),t)+(4===is(t).getDay()),e,2)}function dl(t){return t.getDay()}function pl(t,e){return Ps(ss.count(is(t)-1,t),e,2)}function ml(t,e){return Ps(t.getFullYear()%100,e,2)}function vl(t,e){return Ps(t.getFullYear()%1e4,e,4)}function gl(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ps(e/60|0,"0",2)+Ps(e%60,"0",2)}function _l(t,e){return Ps(t.getUTCDate(),e,2)}function yl(t,e){return Ps(t.getUTCHours(),e,2)}function bl(t,e){return Ps(t.getUTCHours()%12||12,e,2)}function kl(t,e){return Ps(1+ys.count(ks(t),t),e,3)}function wl(t,e){return Ps(t.getUTCMilliseconds(),e,3)}function Cl(t,e){return wl(t,e)+"000"}function xl(t,e){return Ps(t.getUTCMonth()+1,e,2)}function Ol(t,e){return Ps(t.getUTCMinutes(),e,2)}function Sl(t,e){return Ps(t.getUTCSeconds(),e,2)}function El(t){var e=t.getUTCDay();return 0===e?7:e}function Ml(t,e){return Ps(vs.count(ks(t)-1,t),e,2)}function Al(t,e){var n=t.getUTCDay();return t=n>=4||0===n?_s(t):_s.ceil(t),Ps(_s.count(ks(t),t)+(4===ks(t).getUTCDay()),e,2)}function Rl(t){return t.getUTCDay()}function Pl(t,e){return Ps(gs.count(ks(t)-1,t),e,2)}function Vl(t,e){return Ps(t.getUTCFullYear()%100,e,2)}function Dl(t,e){return Ps(t.getUTCFullYear()%1e4,e,4)}function Tl(){return"+0000"}function Il(){return"%"}function Nl(t){return+t}function jl(t){return Math.floor(+t/1e3)}function Fl(t){return new Date(t)}function Ll(t){return t instanceof Date?+t:+new Date(+t)}function zl(t,e,n,i,r,o,a,l,u){var c=Na(Ra,Ra),h=c.invert,f=c.domain,d=u(".%L"),p=u(":%S"),v=u("%I:%M"),g=u("%I %p"),_=u("%a %d"),y=u("%b %d"),b=u("%B"),k=u("%Y"),w=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,36e5],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function C(s){return(a(s)<s?d:o(s)<s?p:r(s)<s?v:i(s)<s?g:e(s)<s?n(s)<s?_:y:t(s)<s?b:k)(s)}function x(e,n,i,r){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(i-n)/e,a=s((function(t){return t[2]})).right(w,o);a===w.length?(r=m(n/31536e6,i/31536e6,e),e=t):a?(r=(a=w[o/w[a-1][2]<w[a][2]/o?a-1:a])[1],e=a[0]):(r=Math.max(m(n,i,e),1),e=l)}return null==r?e:e.every(r)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(Oa.call(t,Ll)):f().map(Fl)},c.ticks=function(t,e){var n,i=f(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=(n=x(t,r,o,e))?n.range(r,o+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?C:u(e)},c.nice=function(t,e){var n=f();return(t=x(t,n[0],n[n.length-1],e))?f(function(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}(n,t)):c},c.copy=function(){return Ia(c,zl(t,e,n,i,r,o,a,l,u))},c}Os=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Ds(r),c=Ts(r),h=Ds(o),f=Ts(o),d=Ds(a),p=Ts(a),m=Ds(s),v=Ts(s),g=Ds(l),_=Ts(l),y={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:el,e:el,f:al,H:nl,I:il,j:rl,L:ol,m:sl,M:ll,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Nl,s:jl,S:ul,u:cl,U:hl,V:fl,w:dl,W:pl,x:null,X:null,y:ml,Y:vl,Z:gl,"%":Il},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:_l,e:_l,f:Cl,H:yl,I:bl,j:kl,L:wl,m:xl,M:Ol,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Nl,s:jl,S:Sl,u:El,U:Ml,V:Al,w:Rl,W:Pl,x:null,X:null,y:Vl,Y:Dl,Z:Tl,"%":Il},k={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=_[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=v[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return x(t,e,n,i)},d:Ys,e:Ys,f:Qs,H:Xs,I:Xs,j:Gs,L:Ks,m:Us,M:qs,p:function(t,e,n){var i=u.exec(e.slice(n));return i?(t.p=c[i[0].toLowerCase()],n+i[0].length):-1},q:Ws,Q:Js,s:tl,S:Zs,u:Ns,U:js,V:Fs,w:Is,W:Ls,x:function(t,e,i){return x(t,n,e,i)},X:function(t,e,n){return x(t,i,e,n)},y:Bs,Y:zs,Z:Hs,"%":$s};function w(t,e){return function(n){var i,r,o,a=[],s=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(r=Es[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function C(t,e){return function(n){var i,r,o=xs(1900,void 0,1);if(x(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=Cs(xs(o.y,0,1))).getUTCDay(),i=r>4||0===r?gs.ceil(i):gs(i),i=ys.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=ws(xs(o.y,0,1))).getDay(),i=r>4||0===r?ss.ceil(i):ss(i),i=us.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?Cs(xs(o.y,0,1)).getUTCDay():ws(xs(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Cs(o)):ws(o)}}function x(t,e,n,i){for(var r,o,a=0,s=e.length,l=n.length;a<s;){if(i>=l)return-1;if(37===(r=e.charCodeAt(a++))){if(r=e.charAt(a++),!(o=k[r in Es?e.charAt(a++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return y.x=w(n,y),y.X=w(i,y),y.c=w(e,y),b.x=w(n,b),b.X=w(i,b),b.c=w(e,b),{format:function(t){var e=w(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=C(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=C(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ss=Os.format;var Bl=function(){return Ca.apply(zl(is,rs,as,us,cs,hs,fs,ps,Ss).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)};es((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),es((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),es((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()}));var Hl=function(t){return function(){return t}};function Wl(t){this._context=t}Wl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Ul=function(t){return new Wl(t)};function Yl(t){return t[0]}function Gl(t){return t[1]}var Xl=function(){var t=Yl,e=Gl,n=Hl(!0),i=null,r=Ul,o=null;function a(a){var s,l,u,c=a.length,h=!1;for(null==i&&(o=r(u=Di())),s=0;s<=c;++s)!(s<c&&n(l=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,s,a),+e(l,s,a));if(u)return o=null,u+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Hl(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Hl(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Hl(!!t),a):n},a.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),a):r},a.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),a):i},a};function ql(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Zl(t){this._context=t}Zl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ql(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ql(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Kl=function(t){return new Zl(t)};function Ql(t,e){this._basis=new Zl(t),this._beta=e}Ql.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],a=t[n]-r,s=e[n]-o,l=-1;++l<=n;)this._basis.point(this._beta*t[l]+(1-this._beta)*(r+(i=l/n)*a),this._beta*e[l]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var $l=function t(e){function n(t){return 1===e?new Zl(t):new Ql(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Jl(){this._=null}function tu(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function eu(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function nu(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function iu(t){for(;t.L;)t=t.L;return t}Jl.prototype={constructor:Jl,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=iu(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(eu(this,n),n=(t=n).U),n.C=!1,i.C=!0,nu(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(nu(this,n),n=(t=n).U),n.C=!1,i.C=!0,eu(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?iu(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,r.L=t=n.R,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,eu(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,nu(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,eu(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,nu(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,eu(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,nu(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var ru=Jl;function ou(t,e,n,i){var r=[null,null],o=Au.push(r)-1;return r.left=t,r.right=e,n&&su(r,t,e,n),i&&su(r,e,t,i),Eu[t.index].halfedges.push(o),Eu[e.index].halfedges.push(o),r}function au(t,e,n){var i=[e,n];return i.left=t,i}function su(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function lu(t,e,n,i,r){var o,a=t[0],s=t[1],l=a[0],u=a[1],c=0,h=1,f=s[0]-l,d=s[1]-u;if(o=e-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[l+c*f,u+c*d]),h<1&&(t[1]=[l+h*f,u+h*d]),!0)}}}}}function uu(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,l=t[0],u=t.left,c=t.right,h=u[0],f=u[1],d=c[0],p=c[1],m=(h+d)/2;if(p===f){if(m<e||m>=i)return;if(h>d){if(l){if(l[1]>=r)return}else l=[m,n];o=[m,r]}else{if(l){if(l[1]<n)return}else l=[m,r];o=[m,n]}}else if(s=(f+p)/2-(a=(h-d)/(p-f))*m,a<-1||a>1)if(h>d){if(l){if(l[1]>=r)return}else l=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(l){if(l[1]<n)return}else l=[(r-s)/a,r];o=[(n-s)/a,n]}else if(f<p){if(l){if(l[0]>=i)return}else l=[e,a*e+s];o=[i,a*i+s]}else{if(l){if(l[0]<e)return}else l=[i,a*i+s];o=[e,a*e+s]}return t[0]=l,t[1]=o,!0}function cu(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function hu(t,e){return e[+(e.left!==t.site)]}function fu(t,e){return e[+(e.left===t.site)]}var du,pu=[];function mu(){tu(this),this.x=this.y=this.arc=this.site=this.cy=null}function vu(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],l=i[0]-a,u=i[1]-s,c=o[0]-a,h=o[1]-s,f=2*(l*h-u*c);if(!(f>=-Pu)){var d=l*l+u*u,p=c*c+h*h,m=(h*d-u*p)/f,v=(l*p-c*d)/f,g=pu.pop()||new mu;g.arc=t,g.site=r,g.x=m+a,g.y=(g.cy=v+s)+Math.sqrt(m*m+v*v),t.circle=g;for(var _=null,y=Mu._;y;)if(g.y<y.y||g.y===y.y&&g.x<=y.x){if(!y.L){_=y.P;break}y=y.L}else{if(!y.R){_=y;break}y=y.R}Mu.insert(_,g),_||(du=g)}}}}function gu(t){var e=t.circle;e&&(e.P||(du=e.N),Mu.remove(e),pu.push(e),tu(e),t.circle=null)}var _u=[];function yu(){tu(this),this.edge=this.site=this.circle=null}function bu(t){var e=_u.pop()||new yu;return e.site=t,e}function ku(t){gu(t),Su.remove(t),_u.push(t),tu(t)}function wu(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];ku(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Ru&&Math.abs(i-l.circle.cy)<Ru;)o=l.P,s.unshift(l),ku(l),l=o;s.unshift(l),gu(l);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<Ru&&Math.abs(i-u.circle.cy)<Ru;)a=u.N,s.push(u),ku(u),u=a;s.push(u),gu(u);var c,h=s.length;for(c=1;c<h;++c)su((u=s[c]).edge,(l=s[c-1]).site,u.site,r);(u=s[h-1]).edge=ou((l=s[0]).site,u.site,null,r),vu(l),vu(u)}function Cu(t){for(var e,n,i,r,o=t[0],a=t[1],s=Su._;s;)if((i=xu(s,a)-o)>Ru)s=s.L;else{if(!((r=o-Ou(s,a))>Ru)){i>-Ru?(e=s.P,n=s):r>-Ru?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Eu[t.index]={site:t,halfedges:[]}}(t);var l=bu(t);if(Su.insert(e,l),e||n){if(e===n)return gu(e),n=bu(e.site),Su.insert(l,n),l.edge=n.edge=ou(e.site,l.site),vu(e),void vu(n);if(n){gu(e),gu(n);var u=e.site,c=u[0],h=u[1],f=t[0]-c,d=t[1]-h,p=n.site,m=p[0]-c,v=p[1]-h,g=2*(f*v-d*m),_=f*f+d*d,y=m*m+v*v,b=[(v*_-d*y)/g+c,(f*y-m*_)/g+h];su(n.edge,u,p,b),l.edge=ou(u,t,null,b),n.edge=ou(t,p,null,b),vu(e),vu(n)}else l.edge=ou(e.site,l.site)}}function xu(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],u=l-e;if(!u)return s;var c=s-i,h=1/o-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+s)/2}function Ou(t,e){var n=t.N;if(n)return xu(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var Su,Eu,Mu,Au,Ru=1e-6,Pu=1e-12;function Vu(t,e){return e[1]-t[1]||e[0]-t[0]}function Du(t,e){var n,i,r,o=t.sort(Vu).pop();for(Au=[],Eu=new Array(t.length),Su=new ru,Mu=new ru;;)if(r=du,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Cu(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;wu(r.arc)}if(function(){for(var t,e,n,i,r=0,o=Eu.length;r<o;++r)if((t=Eu[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=cu(t,Au[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,i){for(var r,o=Au.length;o--;)uu(r=Au[o],t,e,n,i)&&lu(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Ru||Math.abs(r[0][1]-r[1][1])>Ru)||delete Au[o]}(a,s,l,u),function(t,e,n,i){var r,o,a,s,l,u,c,h,f,d,p,m,v=Eu.length,g=!0;for(r=0;r<v;++r)if(o=Eu[r]){for(a=o.site,s=(l=o.halfedges).length;s--;)Au[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)p=(d=fu(o,Au[l[s]]))[0],m=d[1],h=(c=hu(o,Au[l[++s%u]]))[0],f=c[1],(Math.abs(p-h)>Ru||Math.abs(m-f)>Ru)&&(l.splice(s,0,Au.push(au(a,d,Math.abs(p-t)<Ru&&i-m>Ru?[t,Math.abs(h-t)<Ru?f:i]:Math.abs(m-i)<Ru&&n-p>Ru?[Math.abs(f-i)<Ru?h:n,i]:Math.abs(p-n)<Ru&&m-e>Ru?[n,Math.abs(h-n)<Ru?f:e]:Math.abs(m-e)<Ru&&p-t>Ru?[Math.abs(f-e)<Ru?h:t,e]:null))-1),++u);u&&(g=!1)}if(g){var _,y,b,k=1/0;for(r=0,g=null;r<v;++r)(o=Eu[r])&&(b=(_=(a=o.site)[0]-t)*_+(y=a[1]-e)*y)<k&&(k=b,g=o);if(g){var w=[t,e],C=[t,i],x=[n,i],O=[n,e];g.halfedges.push(Au.push(au(a=g.site,w,C))-1,Au.push(au(a,C,x))-1,Au.push(au(a,x,O))-1,Au.push(au(a,O,w))-1)}}for(r=0;r<v;++r)(o=Eu[r])&&(o.halfedges.length||delete Eu[r])}(a,s,l,u)}this.edges=Au,this.cells=Eu,Su=Mu=Au=Eu=null}Du.prototype={constructor:Du,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return hu(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(o=(r=n.halfedges).length)for(var r,o,a,s,l,u,c=n.site,h=-1,f=e[r[o-1]],d=f.left===c?f.right:f.left;++h<o;)a=d,d=(f=e[r[h]]).left===c?f.right:f.left,a&&d&&i<a.index&&i<d.index&&((s=c)[0]-(u=d)[0])*((l=a)[1]-s[1])-(s[0]-l[0])*(u[1]-s[1])<0&&t.push([c.data,a.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var i,r,o=this,a=o._found||0,s=o.cells.length;!(r=o.cells[a]);)if(++a>=s)return null;var l=t-r.site[0],u=e-r.site[1],c=l*l+u*u;do{r=o.cells[i=a],a=null,r.halfedges.forEach((function(n){var i=o.edges[n],s=i.left;if(s!==r.site&&s||(s=i.right)){var l=t-s[0],u=e-s[1],h=l*l+u*u;h<c&&(c=h,a=s.index)}}))}while(null!==a);return o._found=i,null==n||c<=n*n?r.site:null}};var Tu=Math.SQRT2;function Iu(t){return((t=Math.exp(t))+1/t)/2}var Nu=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[2],l=e[0]-r,u=e[1]-o,c=l*l+u*u;if(c<1e-12)i=Math.log(s/a)/Tu,n=function(t){return[r+t*l,o+t*u,a*Math.exp(Tu*t*i)]};else{var h=Math.sqrt(c),f=(s*s-a*a+4*c)/(2*a*2*h),d=(s*s-a*a-4*c)/(2*s*2*h),p=Math.log(Math.sqrt(f*f+1)-f),m=Math.log(Math.sqrt(d*d+1)-d);i=(m-p)/Tu,n=function(t){var e,n=t*i,s=Iu(p),c=a/(2*h)*(s*(e=Tu*n+p,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[r+c*l,o+c*u,a*s/Iu(Tu*n+p)]}}return n.duration=1e3*i,n},ju=function(t){return function(){return t}};function Fu(t,e,n){this.target=t,this.type=e,this.transform=n}function Lu(t,e,n){this.k=t,this.x=e,this.y=n}Lu.prototype={constructor:Lu,scale:function(t){return 1===t?this:new Lu(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Lu(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zu=new Lu(1,0,0);function Bu(){Vt.stopImmediatePropagation()}var Hu=function(){Vt.preventDefault(),Vt.stopImmediatePropagation()};function Wu(){return!Vt.ctrlKey&&!Vt.button}function Uu(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Yu(){return this.__zoom||zu}function Gu(){return-Vt.deltaY*(1===Vt.deltaMode?.05:Vt.deltaMode?1:.002)}function Xu(){return navigator.maxTouchPoints||"ontouchstart"in this}function qu(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var Zu=function(t){return t};function Ku(t,e){var n=e.id,i=e.bbox,r=null==e.properties?{}:e.properties,o=function(t,e){var n=function(t){if(null==t)return Zu;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var l=2,u=t.length,c=new Array(u);for(c[0]=(e+=t[0])*i+o,c[1]=(n+=t[1])*r+a;l<u;)c[l]=t[l],++l;return c}}(t.transform),i=t.arcs;function r(t,e){e.length&&e.pop();for(var r=i[t<0?~t:t],o=0,a=r.length;o<a;++o)e.push(n(r[o],o));t<0&&function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}(e,a)}function o(t){return n(t)}function a(t){for(var e=[],n=0,i=t.length;n<i;++n)r(t[n],e);return e.length<2&&e.push(e[0]),e}function s(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(s)}return function t(e){var n,i=e.type;switch(i){case"GeometryCollection":return{type:i,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:i,coordinates:n}}(e)}(t,e);return null==n&&null==i?{type:"Feature",properties:r,geometry:o}:null==i?{type:"Feature",id:n,properties:r,geometry:o}:{type:"Feature",id:n,bbox:i,properties:r,geometry:o}}var Qu=new ArrayBuffer(16);new Float64Array(Qu),new Uint32Array(Qu),Math,Math,Math,Math,Math;var $u,Ju,tc,ec=((Ju=function(){function t(e){_classCallCheck(this,t),this.elementRef=e,this.year=1743,this.colors=["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"].reverse(),this.domains=[-40,-32,-24,-16,-8,0,8,16,24,32,40],this.data=[],this.parentWidth=1e3,this.width=900,this.height=600,this.hostElement=this.elementRef.nativeElement}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.width=this.parentWidth,this.height=.6*this.parentWidth,"undefined"!=typeof fetch&&Qi("assets/dataset/temperatures.json").then((function(e){t.data=e,Qi("assets/dataset/countries.json").then((function(e){t.countries=e,t.createMap()}))}))}},{key:"ngAfterViewInit",value:function(){this.setZoom()}},{key:"ngOnChanges",value:function(t){t.parentWidth?(this.width=this.parentWidth,this.height=.6*this.parentWidth,this.setChartDimensions(),this.setZoom(),this.legend&&this.updateLegend()):t.year&&this.updateData()}},{key:"createMap",value:function(){this.removeExistingChartFromParent(),this.createTooltip(),this.setChartDimensions(),this.setColorScale(),this.addGraphicsElement(),this.addLegend()}},{key:"removeExistingChartFromParent",value:function(){Gt(this.hostElement).select("svg").remove(),Gt(this.hostElement).select("div").remove()}},{key:"createTooltip",value:function(){this.tooltip=Gt(this.hostElement).append("div").attr("class","uk-tooltip")}},{key:"setChartDimensions",value:function(){var t=this.tooltip;if(this.svg){if(this.svg.attr("width",this.width).attr("height",this.height).on("click",(function(){t.style("display","none")})),this.g){var e=ya().translate([this.width/2,this.height/2]).scale((this.width-1)/2/Math.PI),n=Io().projection(e);this.g.selectAll("path").attr("d",n)}}else this.svg=Gt(this.hostElement).append("svg").attr("width",this.width).attr("height",this.height).on("click",(function(){t.style("display","none")}))}},{key:"setZoom",value:function(){var t=this;if("undefined"!=typeof navigator){var e=function(){var t,e,n=Wu,i=Uu,r=qu,o=Gu,a=Xu,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=Nu,h=T("start","zoom","end"),f=0;function d(t){t.property("__zoom",Yu).on("wheel.zoom",b).on("mousedown.zoom",k).on("dblclick.zoom",w).filter(a).on("touchstart.zoom",C).on("touchmove.zoom",x).on("touchend.zoom touchcancel.zoom",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new Lu(e,t.x,t.y)}function m(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Lu(t.k,i,r)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function g(t,e,n){t.on("start.zoom",(function(){_(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).end()})).tween("zoom",(function(){var t=this,r=arguments,o=_(t,r),a=i.apply(t,r),s=null==n?v(a):"function"==typeof n?n.apply(t,r):n,l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=t.__zoom,h="function"==typeof e?e.apply(t,r):e,f=c(u.invert(s).concat(l/u.k),h.invert(s).concat(l/h.k));return function(t){if(1===t)t=h;else{var e=f(t),n=l/e[2];t=new Lu(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new y(t,e)}function y(t,e){this.that=t,this.args=e,this.active=0,this.extent=i.apply(t,e),this.taps=0}function b(){if(n.apply(this,arguments)){var t=_(this,arguments),e=this.__zoom,i=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=Ue(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[a,e.invert(a)],_n(this),t.start()}Hu(),t.wheel=setTimeout(u,150),t.zoom("mouse",r(m(p(e,i),t.mouse[0],t.mouse[1]),t.extent,l))}function u(){t.wheel=null,t.end()}}function k(){if(!e&&n.apply(this,arguments)){var t=_(this,arguments,!0),i=Gt(Vt.view).on("mousemove.zoom",u,!0).on("mouseup.zoom",c,!0),o=Ue(this),a=Vt.clientX,s=Vt.clientY;qt(Vt.view),Bu(),t.mouse=[o,this.__zoom.invert(o)],_n(this),t.start()}function u(){if(Hu(),!t.moved){var e=Vt.clientX-a,n=Vt.clientY-s;t.moved=e*e+n*n>f}t.zoom("mouse",r(m(t.that.__zoom,t.mouse[0]=Ue(t.that),t.mouse[1]),t.extent,l))}function c(){i.on("mousemove.zoom mouseup.zoom",null),Zt(Vt.view,t.moved),Hu(),t.end()}}function w(){if(n.apply(this,arguments)){var t=this.__zoom,e=Ue(this),o=t.invert(e),a=t.k*(Vt.shiftKey?.5:2),s=r(m(p(t,a),e,o),i.apply(this,arguments),l);Hu(),u>0?Gt(this).transition().duration(u).call(g,s,e):Gt(this).call(d.transform,s)}}function C(){if(n.apply(this,arguments)){var e,i,r,o,a=Vt.touches,s=a.length,l=_(this,arguments,Vt.changedTouches.length===s);for(Bu(),i=0;i<s;++i)o=[o=We(this,a,(r=a[i]).identifier),this.__zoom.invert(o),r.identifier],l.touch0?l.touch1||l.touch0[2]===o[2]||(l.touch1=o,l.taps=0):(l.touch0=o,e=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(l.taps<2&&(t=setTimeout((function(){t=null}),500)),_n(this),l.start())}}function x(){if(this.__zooming){var e,n,i,o,a=_(this,arguments),s=Vt.changedTouches,u=s.length;for(Hu(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<u;++e)i=We(this,s,(n=s[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=i);if(n=a.that.__zoom,a.touch1){var c=a.touch0[0],h=a.touch0[1],f=a.touch1[0],d=a.touch1[1],v=(v=f[0]-c[0])*v+(v=f[1]-c[1])*v,g=(g=d[0]-h[0])*g+(g=d[1]-h[1])*g;n=p(n,Math.sqrt(v/g)),i=[(c[0]+f[0])/2,(c[1]+f[1])/2],o=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",r(m(n,i,o),a.extent,l))}}function O(){if(this.__zooming){var t,n,i=_(this,arguments),r=Vt.changedTouches,o=r.length;for(Bu(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),t=0;t<o;++t)n=r[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps){var a=Gt(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return d.transform=function(t,e,n){var i=t.selection?t.selection():t;i.property("__zoom",Yu),t!==i?g(t,e,n):i.interrupt().each((function(){_(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},d.scaleBy=function(t,e,n){d.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},d.scaleTo=function(t,e,n){d.transform(t,(function(){var t=i.apply(this,arguments),o=this.__zoom,a=null==n?v(t):"function"==typeof n?n.apply(this,arguments):n,s=o.invert(a),u="function"==typeof e?e.apply(this,arguments):e;return r(m(p(o,u),a,s),t,l)}),n)},d.translateBy=function(t,e,n){d.transform(t,(function(){return r(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}))},d.translateTo=function(t,e,n,o){d.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==o?v(t):"function"==typeof o?o.apply(this,arguments):o;return r(zu.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}),o)},y.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){Ft(new Fu(d,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:ju(+t),d):o},d.filter=function(t){return arguments.length?(n="function"==typeof t?t:ju(!!t),d):n},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:ju(!!t),d):a},d.extent=function(t){return arguments.length?(i="function"==typeof t?t:ju([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):i},d.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],d):[s[0],s[1]]},d.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],d):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},d.constrain=function(t){return arguments.length?(r=t,d):r},d.duration=function(t){return arguments.length?(u=+t,d):u},d.interpolate=function(t){return arguments.length?(c=t,d):c},d.on=function(){var t=h.on.apply(h,arguments);return t===h?d:t},d.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,d):Math.sqrt(f)},d}().scaleExtent([1,8]).translateExtent([[0,-this.height/3],[this.width,4/3*this.height]]).on("zoom",(function(){t.g.selectAll("path").attr("transform",Vt.transform)}));this.svg.call(e)}}},{key:"setColorScale",value:function(){this.colorScale=function t(){var e,n=[.5],i=[0,1],r=1;function o(t){return t<=t?i[l(n,t,0,r)]:e}return o.domain=function(t){return arguments.length?(n=Sa.call(t),r=Math.min(n.length,i.length-1),o):n.slice()},o.range=function(t){return arguments.length?(i=Sa.call(t),r=Math.min(n.length,i.length-1),o):i.slice()},o.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(i).unknown(e)},Ca.apply(o,arguments)}().domain(this.domains).range(this.colors)}},{key:"addGraphicsElement",value:function(){var t,e;this.g=this.svg.attr("class","chart").style("background","#aadaff").append("g"),this.paths=this.g.selectAll("path").data((t=this.countries,e=this.countries.objects.countries,"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return Ku(t,e)}))}:Ku(t,e)).features).enter().append("path"),this.updateData()}},{key:"updateData",value:function(){var t=this,e=this.data,n=this.year,i=ya().translate([this.width/2,this.height/2]).scale((this.width-1)/2/Math.PI),r=Io().projection(i),o=this.tooltip;this.paths.attr("d",r).style("fill",(function(e){var n=t.data[e.properties.name];return n&&n[t.year]&&n[t.year].length>0?t.colorScale(v(n[t.year])):"#808080"})).style("stroke","black").style("stroke-width",".3px").on("mouseover",(function(t){Gt(this).style("stroke-width","1px")})).on("mouseout",(function(){t.g.selectAll("path").style("stroke-width",".3px")})).on("click",(function(t){o.style("left",Ue(this)[0]+"px").style("top",Ue(this)[1]+"px").style("display","inline-block").html((function(){return e[t.properties.name]&&e[t.properties.name][n]&&e[t.properties.name][n].length>0?'<h5 class="uk-text-center">'.concat(t.properties.name,'</h5>\n             <span class="uk-margin-small-right">Av. Temperature: ').concat(v(e[t.properties.name][n]).toPrecision(4),"</span>\n             <span>Year: ").concat(n,"</span>\n            "):'<h5 class="uk-text-center">'.concat(t.properties.name,'</h5>\n             <span class="uk-margin-small-right">Av. Temperature: Not available</span>\n             <span>Year: ').concat(n,"</span>\n            ")})),Vt.stopPropagation()}))}},{key:"addLegend",value:function(){var t=this;this.legend=this.svg.append("g"),this.legend.append("rect").attr("id","legend").attr("x",10).attr("y",this.height-350).style("rx","5").attr("width",200).attr("height",310).style("fill","#f1faf5").style("stroke","black").style("stroke-width",".5px"),this.legend.append("text").attr("id","title").attr("x",35).attr("y",this.height-320).text("Av. Temperature").style("font-size","20px").style("font-weight","bold");var e=this.height-300;this.colors.forEach((function(n,i){t.legend.append("rect").attr("id","color-"+i).attr("x",50).attr("y",e+20*i).style("rx",1).attr("width",20).attr("height",15).style("fill",n).style("stroke","black").style("stroke-width","0.3px"),t.legend.append("text").attr("id","text-"+i).attr("x",145-5*t.domains[i].toString().length).attr("y",e+13+20*i).text(t.domains[i])})),this.legend.append("rect").attr("id","color-unknown").attr("x",50).attr("y",e+20*this.colors.length).style("rx",1).attr("width",20).attr("height",15).style("fill","#808080").style("stroke","black").style("stroke-width",".5px"),this.legend.append("text").attr("id","text-unknown").attr("x",100).attr("y",e+13+20*this.colors.length).text("Not available")}},{key:"updateLegend",value:function(){var t=this;this.legend.select("#legend").attr("y",this.height-350),this.legend.select("#title").attr("y",this.height-320);var e=this.height-300;this.colors.forEach((function(n,i){t.legend.select("#color-"+i).attr("y",e+20*i),t.legend.select("#text-"+i).attr("y",e+13+20*i)})),this.legend.select("#color-unknown").attr("y",e+20*this.colors.length),this.legend.select("#text-unknown").attr("y",e+13+20*this.colors.length)}}]),t}()).\u0275fac=function(t){return new(t||Ju)(r.Mb(r.l))},Ju.\u0275cmp=r.Gb({type:Ju,selectors:[["app-map-chart"]],inputs:{year:"year",parentWidth:"parentWidth"},features:[r.zb],decls:1,vars:0,template:function(t,e){1&t&&(r.bc(),r.Nb(0,"svg"))},encapsulation:2}),Ju),nc=(($u=function(){function t(e){_classCallCheck(this,t),this.elementRef=e,this.data=[],this.margin={top:60,right:40,bottom:90,left:90},this.parentWidth=960,this.width=this.parentWidth,this.height=500*this.parentWidth/960,this.contextHeight=50,this.contextWidth=.8*this.innerWidth,this.xAxisLabel="Year",this.xValue=function(t){return t.year},this.yAxisLabel="GMSL",this.yValue=function(t){return t.mean_gmsl},this.hostElement=this.elementRef.nativeElement}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;"undefined"!=typeof fetch&&Qi("assets/dataset/gmsl.json").then((function(e){t.data=e,t.parentWidth>0&&t.createChart()}))}},{key:"ngOnChanges",value:function(t){this.data&&t.parentWidth&&this.parentWidth>0&&this.createChart()}},{key:"createChart",value:function(){this.removeExistingChartFromParent(),this.setChartDimensions(),this.addAxes(),this.addGraphicsElement(),this.createBrush()}},{key:"removeExistingChartFromParent",value:function(){Gt(this.hostElement).select("svg").remove()}},{key:"setChartDimensions",value:function(){this.width=this.parentWidth,this.height=.52*this.parentWidth,this.innerWidth=this.width-this.margin.left-this.margin.right,this.innerHeight=this.height-this.margin.top-this.margin.bottom,this.contextHeight=50,this.contextWidth=.8*this.innerWidth,this.svg=Gt(this.hostElement).append("svg").attr("width",this.width).attr("height",this.height)}},{key:"addAxes",value:function(){this.xScale=$a().domain(c(this.data,this.xValue)).range([this.margin.left,this.width-this.margin.right]).nice(),this.yScale=$a().domain(c(this.data,this.yValue)).range([this.height-this.margin.bottom,this.margin.top]).nice(),this.xAxis=S(this.xScale).tickSize(-this.innerHeight).tickPadding(15).tickFormat((function(t){return t.toString()})),this.yAxis=E(this.yScale).tickSize(-this.innerWidth).tickPadding(10)}},{key:"addGraphicsElement",value:function(){var t=this;this.g=this.svg.attr("class","chart small").append("g"),this.yAxisG=this.g.append("g").call(this.yAxis).attr("transform","translate(".concat(this.margin.left,",").concat(-this.contextHeight,")")),this.yAxisG.selectAll(".domain").remove(),this.yAxisG.append("text").attr("y",70).attr("x",this.innerHeight/2+this.margin.top).attr("transform","rotate(90)").attr("text-anchor","middle").attr("class","uk-text-bold").text(this.yAxisLabel),this.xAxisG=this.g.append("g").call(this.xAxis).attr("transform","translate(0,".concat(this.height-this.margin.bottom-this.contextHeight,")")),this.xAxisG.select(".domain").remove(),this.xAxisG.append("text").attr("y",40).attr("x",this.innerWidth/2+this.margin.left).attr("class","uk-text-bold").text(this.xAxisLabel),this.svg.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",this.innerWidth).attr("height",this.innerHeight).attr("x",this.margin.left).attr("y",this.margin.top),this.line=Xl().x((function(e){return t.xScale(t.xValue(e))})).y((function(e){return t.yScale(t.yValue(e))})).curve($l),this.g.append("path").attr("class","line-path").data([this.data]).attr("d",this.line).attr("clip-path","url(#clip)").attr("transform","translate(0,".concat(-this.contextHeight,")"))}},{key:"createBrush",value:function(){var t=this,e=$a().range([0,this.contextWidth]).domain(this.xScale.domain()),n=S(e).tickSize(this.contextHeight).tickPadding(-10).tickFormat((function(t){return t.toString()})),i=Ei().extent([[0,0],[this.contextWidth,this.contextHeight]]).on("brush end",(function(){var n=Vt.selection,i=n?n.map(e.invert):e.domain();t.showOnly(i)}));this.context=this.svg.append("g").attr("class","context").attr("transform","translate("+(this.margin.left+.1*this.innerWidth)+","+(this.innerHeight+this.margin.top+20)+")"),this.context.append("g").attr("class","x axis top").attr("transform","translate(8,0)").call(n),this.context.append("g").attr("class","x brush").call(i).selectAll("rect").attr("y",0).attr("height",this.contextHeight),this.context.append("text").attr("class","instructions").attr("x",this.contextWidth/2).attr("text-anchor","middle").text("Click and drag below to zoom / pan the data")}},{key:"showOnly",value:function(t){this.xScale.domain(t),this.g.select("path").data([this.data]).attr("d",this.line),this.xAxisG.call(this.xAxis),this.xAxisG.select(".domain").remove()}}]),t}()).\u0275fac=function(t){return new(t||$u)(r.Mb(r.l))},$u.\u0275cmp=r.Gb({type:$u,selectors:[["app-line-chart"]],inputs:{parentWidth:"parentWidth"},features:[r.zb],decls:1,vars:0,template:function(t,e){1&t&&(r.bc(),r.Nb(0,"svg"))},encapsulation:2}),$u),ic=function(){function t(e){var n=this;_classCallCheck(this,t),this.chartData=e.data,this.width=e.width,this.height=e.height,this.maxDataPoint=e.maxDataPoint,this.svg=e.svg,this.id=e.id,this.name=e.name,this.margin=e.margin,this.showBottomAxis=e.showBottomAxis,this.xScale=Bl().range([0,this.width]).domain(c(this.chartData.map((function(t){return t.year})))),this.yScale=$a().range([this.height,0]).domain([-2700,350]),this.area=function(){var t=Yl,e=null,n=Hl(0),i=Gl,r=Hl(!0),o=null,a=Ul,s=null;function l(l){var u,c,h,f,d,p=l.length,m=!1,v=new Array(p),g=new Array(p);for(null==o&&(s=a(d=Di())),u=0;u<=p;++u){if(!(u<p&&r(f=l[u],u,l))===m)if(m=!m)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=c;--h)s.point(v[h],g[h]);s.lineEnd(),s.areaEnd()}m&&(v[u]=+t(f,u,l),g[u]=+n(f,u,l),s.point(e?+e(f,u,l):v[u],i?+i(f,u,l):g[u]))}if(d)return s=null,d+""||null}function u(){return Xl().defined(r).curve(a).context(o)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:Hl(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:Hl(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Hl(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:Hl(+t),i=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:Hl(+t),l):n},l.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Hl(+t),l):i},l.lineX0=l.lineY0=function(){return u().x(t).y(n)},l.lineY1=function(){return u().x(t).y(i)},l.lineX1=function(){return u().x(e).y(n)},l.defined=function(t){return arguments.length?(r="function"==typeof t?t:Hl(!!t),l):r},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l}().curve(Kl).x((function(t){return n.xScale(t.year)})).y1((function(t){return n.yScale(t[1]<=0?0:t[n.name])})).y0((function(t){return n.yScale(t[1]<=0?t[n.name]:0)})),this.svg.append("defs").append("clipPath").attr("id","clip-"+this.id).append("rect").attr("width",this.width).attr("height",this.height),this.chartContainer=this.svg.append("g").attr("class",this.name.toLowerCase()).attr("transform","translate("+this.margin.left+","+(this.margin.top+this.height*this.id+10*this.id)+")"),this.chartContainer.append("path").data([this.chartData]).attr("class","chart").attr("clip-path","url(#clip-"+this.id+")").attr("d",this.area),this.xAxisTop=S(this.xScale),this.xAxisBottom=O(1,this.xScale),0==this.id&&this.chartContainer.append("g").attr("class","x axis top").attr("transform","translate(0,0)").call(this.xAxisTop),this.showBottomAxis&&this.chartContainer.append("g").attr("class","x axis bottom").attr("transform","translate(0,"+this.height+")").call(this.xAxisBottom),this.yAxis=E(this.yScale).ticks(5),this.chartContainer.append("g").attr("class","y axis").attr("transform","translate(-15,0)").call(this.yAxis),this.chartContainer.append("text").attr("class","country-title").attr("transform","translate(15,40)").text(this.name)}return _createClass(t,[{key:"showOnly",value:function(t){this.xScale.domain(t),this.chartContainer.select("path").data([this.chartData]).attr("d",this.area),this.chartContainer.select(".x.axis.top").call(this.xAxisTop),this.chartContainer.select(".x.axis.bottom").call(this.xAxisBottom)}}]),t}(),rc=((tc=function(){function t(e){_classCallCheck(this,t),this.elementRef=e,this.data=[],this.continents=[],this.maxDataPoint=0,this.parentWidth=940,this.margin={top:10,right:40,bottom:175,left:60},this.width=this.parentWidth,this.height=500*this.parentWidth/940,this.innerWidth=this.width-this.margin.left-this.margin.right,this.innerHeight=this.height-this.margin.top-this.margin.bottom,this.contextHeight=50,this.contextWidth=.5*this.innerWidth,this.hostElement=this.elementRef.nativeElement}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;"undefined"!=typeof fetch&&Zi("assets/dataset/ice.csv").then((function(e){for(var n in t.data=e,e[0])e[0].hasOwnProperty(n)&&"year"!=n&&t.continents.push(n);e.forEach((function(e){for(var n in e)e.hasOwnProperty(n)&&(e[n]=parseFloat(e[n]),e[n]>t.maxDataPoint&&(t.maxDataPoint=e[n]));e.year=new Date(e.year,0,1)})),t.parentWidth>0&&t.createChart()}))}},{key:"ngOnChanges",value:function(t){this.data&&t.parentWidth&&this.parentWidth>0&&this.createChart()}},{key:"removeExistingChartFromParent",value:function(){Gt(this.hostElement).select("svg").remove()}},{key:"setSize",value:function(){this.width=this.parentWidth,this.height=500*this.parentWidth/940,this.innerWidth=this.width-this.margin.left-this.margin.right,this.innerHeight=this.height-this.margin.top-this.margin.bottom,this.contextHeight=50,this.contextWidth=.5*this.innerWidth}},{key:"addGraphicsElement",value:function(){this.svg=Gt(this.hostElement).append("svg").attr("class","chart small").attr("width",this.width).attr("height",this.height),this.charts=[];for(var t=0;t<this.continents.length;t++)this.charts.push(new ic({data:this.data,id:t,name:this.continents[t],width:this.innerWidth,height:this.innerHeight*(1/this.continents.length),maxDataPoint:this.maxDataPoint,svg:this.svg,margin:this.margin,showBottomAxis:t==this.continents.length-1}))}},{key:"createBrush",value:function(){var t=this,e=Bl().range([0,this.contextWidth]).domain(this.charts[0].xScale.domain()),n=S(e).tickSize(this.contextHeight).tickPadding(-10),i=Ei().extent([[0,0],[this.contextWidth,this.contextHeight]]).on("brush end",(function(){for(var n=Vt.selection,i=n?n.map(e.invert):e.domain(),r=0;r<t.continents.length;r++)t.charts[r].showOnly(i)}));this.context=this.svg.append("g").attr("class","context").attr("transform","translate("+(this.margin.left+.25*this.innerWidth)+","+(this.innerHeight+this.margin.top+this.contextHeight+50)+")"),this.context.append("g").attr("class","x axis top").attr("transform","translate(8,0)").call(n),this.context.append("g").attr("class","x brush").call(i).selectAll("rect").attr("y",0).attr("height",this.contextHeight),this.context.append("text").attr("class","instructions").attr("x",this.contextWidth/2).attr("text-anchor","middle").text("Click and drag below to zoom / pan the data")}},{key:"createChart",value:function(){this.removeExistingChartFromParent(),this.setSize(),this.addGraphicsElement(),this.createBrush()}}]),t}()).\u0275fac=function(t){return new(t||tc)(r.Mb(r.l))},tc.\u0275cmp=r.Gb({type:tc,selectors:[["app-area-chart"]],inputs:{parentWidth:"parentWidth"},features:[r.zb],decls:1,vars:0,template:function(t,e){1&t&&(r.bc(),r.Nb(0,"svg"))},encapsulation:2}),tc);function oc(t){return null!=t&&"false"!=="".concat(t)}function ac(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function sc(t){return Array.isArray(t)?t:[t]}function lc(t){return null==t?"":"string"==typeof t?t:"".concat(t,"px")}function uc(t){return t instanceof r.l?t.nativeElement:t}var cc=n("HDdC"),hc=n("XNiG"),fc=n("7o/Q"),dc=n("quSY"),pc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r.pending=!1,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(dc.a)),mc=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),vc=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mc.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():r()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(mc))(pc);function gc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vc;return function(n){return n.lift(new _c(t,e))}}var _c=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new yc(t,this.dueTime,this.scheduler))}}]),t}(),yc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(bc,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(fc.a);function bc(t){t.debouncedNext()}var kc,wc,Cc,xc,Oc=((xc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).\u0275fac=function(t){return new(t||xc)},xc.\u0275prov=Object(r.Ib)({factory:function(){return new xc},token:xc,providedIn:"root"}),xc),Sc=((Cc=function(){function t(e){_classCallCheck(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach((function(e,n){return t._cleanupObserver(n)}))}},{key:"observe",value:function(t){var e=this,n=uc(t);return new cc.a((function(t){var i=e._observeElement(n).subscribe(t);return function(){i.unsubscribe(),e._unobserveElement(n)}}))}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new hc.a,n=this._mutationObserverFactory.create((function(t){return e.next(t)}));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,i=e.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(t)}}}]),t}()).\u0275fac=function(t){return new(t||Cc)(r.Vb(Oc))},Cc.\u0275prov=Object(r.Ib)({factory:function(){return new Cc(Object(r.Vb)(Oc))},token:Cc,providedIn:"root"}),Cc),Ec=((wc=function(){function t(e,n,i){_classCallCheck(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){t._currentSubscription=(t.debounce?e.pipe(gc(t.debounce)):e).subscribe(t.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=oc(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=ac(t),this._subscribe()}}]),t}()).\u0275fac=function(t){return new(t||wc)(r.Mb(Sc),r.Mb(r.l),r.Mb(r.z))},wc.\u0275dir=r.Hb({type:wc,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),wc),Mc=((kc=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:kc}),kc.\u0275inj=r.Jb({factory:function(t){return new(t||kc)},providers:[Oc]}),kc),Ac=n("LRne");function Rc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Pc,Vc=n("vkgz"),Dc=n("pLZG"),Tc=n("lJxs"),Ic=n("IzEk");try{Pc="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Ev){Pc=!1}var Nc,jc,Fc,Lc=((Fc=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?Object(o.r)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Pc)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||Fc)(r.Vb(r.B,8))},Fc.\u0275prov=Object(r.Ib)({factory:function(){return new Fc(Object(r.Vb)(r.B,8))},token:Fc,providedIn:"root"}),Fc),zc=((jc=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:jc}),jc.\u0275inj=r.Jb({factory:function(t){return new(t||jc)}}),jc);var Bc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"setActiveItem",value:function(t){this.activeItem&&this.activeItem.setInactiveStyles(),_get(_getPrototypeOf(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.setActiveStyles()}}]),n}(function(){function t(e){var n=this;_classCallCheck(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new hc.a,this._typeaheadSubscription=dc.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new hc.a,this.change=new hc.a,e instanceof r.D&&e.changes.subscribe((function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}}))}return _createClass(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(this._items.length&&this._items.some((function(t){return"function"!=typeof t.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Vc.a)((function(e){return t._pressedLetters.push(e)})),gc(e),Object(Dc.a)((function(){return t._pressedLetters.length>0})),Object(Tc.a)((function(){return t._pressedLetters.join("")}))).subscribe((function(e){for(var n=t._getItemsArray(),i=1;i<n.length+1;i++){var r=(t._activeItemIndex+i)%n.length,o=n[r];if(!t._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(r);break}}t._pressedLetters=[]})),this}},{key:"setActiveItem",value:function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every((function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1}));switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((i||Rc(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof r.D?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),t}());"undefined"!=typeof Element&&Element;var Hc,Wc,Uc,Yc,Gc=new r.q("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Xc=new r.q("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),qc=((Wc=function(){function t(e,n,i,r){_classCallCheck(this,t),this._ngZone=n,this._defaultOptions=r,this._document=i,this._liveElement=e||this._createLiveElement()}return _createClass(t,[{key:"announce",value:function(t){for(var e,n,i,r=this,o=this._defaultOptions,a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return 1===s.length&&"number"==typeof s[0]?i=s[0]:(n=(e=_slicedToArray(s,2))[0],i=e[1]),this.clear(),clearTimeout(this._previousTimeout),n||(n=o&&o.politeness?o.politeness:"polite"),null==i&&o&&(i=o.duration),this._liveElement.setAttribute("aria-live",n),this._ngZone.runOutsideAngular((function(){return new Promise((function(e){clearTimeout(r._previousTimeout),r._previousTimeout=setTimeout((function(){r._liveElement.textContent=t,e(),"number"==typeof i&&(r._previousTimeout=setTimeout((function(){return r.clear()}),i))}),100)}))}))}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}]),t}()).\u0275fac=function(t){return new(t||Wc)(r.Vb(Gc,8),r.Vb(r.z),r.Vb(o.c),r.Vb(Xc,8))},Wc.\u0275prov=Object(r.Ib)({factory:function(){return new Wc(Object(r.Vb)(Gc,8),Object(r.Vb)(r.z),Object(r.Vb)(o.c),Object(r.Vb)(Xc,8))},token:Wc,providedIn:"root"}),Wc),Zc=((Hc=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._document=n}return _createClass(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||Hc)(r.Vb(Lc),r.Vb(o.c))},Hc.\u0275prov=Object(r.Ib)({factory:function(){return new Hc(Object(r.Vb)(Lc),Object(r.Vb)(o.c))},token:Hc,providedIn:"root"}),Hc),Kc=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.U)(o.c)}}),Qc=((Yc=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new r.n,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||Yc)(r.Vb(Kc,8))},Yc.\u0275prov=Object(r.Ib)({factory:function(){return new Yc(Object(r.Vb)(Kc,8))},token:Yc,providedIn:"root"}),Yc),$c=((Uc=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:Uc}),Uc.\u0275inj=r.Jb({factory:function(t){return new(t||Uc)}}),Uc),Jc=new r.N("9.2.4");n("jhN1");var th=n("JX91"),eh=n("R1ws"),nh=["*",[["mat-option"],["ng-container"]]],ih=["*","mat-option, ng-container"];function rh(t,e){if(1&t&&r.Nb(0,"mat-pseudo-checkbox",3),2&t){var n=r.cc();r.hc("state",n.selected?"checked":"unchecked")("disabled",n.disabled)}}var oh,ah=["*"],sh=new r.N("9.2.4"),lh=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),uh=((oh=function(){function t(e,n,i){_classCallCheck(this,t),this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_getDocument",value:function(){var t=this._document||document;return"object"==typeof t&&t?t:null}},{key:"_getWindow",value:function(){var t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return Object(r.V)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(!t&&e&&e.body&&"function"==typeof getComputedStyle){var n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);var i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&sh.full!==Jc.full&&console.warn("The Angular Material version ("+sh.full+") does not match the Angular CDK version ("+Jc.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275mod=r.Kb({type:oh}),oh.\u0275inj=r.Jb({factory:function(t){return new(t||oh)(r.Vb(Zc),r.Vb(lh,8),r.Vb(o.c,8))},imports:[[$c],$c]}),oh);function ch(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disabled=!1,t}return _createClass(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=oc(t)}}]),n}(t)}try{"undefined"!=typeof Intl}catch(Ev){!1}var hh,fh,dh,ph,mh,vh,gh,_h,yh=((hh=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).\u0275fac=function(t){return new(t||hh)},hh.\u0275prov=Object(r.Ib)({factory:function(){return new hh},token:hh,providedIn:"root"}),hh),bh=function(){function t(e,n,i){_classCallCheck(this,t),this._renderer=e,this.element=n,this.config=i,this.state=3}return _createClass(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),kh={enterDuration:450,exitDuration:400},wh=(fh={passive:!0},function(){if(null==Nc&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Nc=!0}}))}finally{Nc=Nc||!1}return Nc}()?fh:!!fh.capture),Ch=["mousedown","touchstart"],xh=["mouseup","mouseleave","touchend","touchcancel"],Oh=function(){function t(e,n,i,r){_classCallCheck(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=uc(i))}return _createClass(t,[{key:"fadeInRipple",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},kh),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);var a=i.radius||function(t,e,n){var i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),s=t-r.left,l=e-r.top,u=o.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left="".concat(s-a,"px"),c.style.top="".concat(l-a,"px"),c.style.height="".concat(2*a,"px"),c.style.width="".concat(2*a,"px"),null!=i.color&&(c.style.backgroundColor=i.color),c.style.transitionDuration="".concat(u,"ms"),this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";var h=new bh(this,c,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var t=h===n._mostRecentTransientRipple;h.state=1,i.persistent||t&&n._isPointerDown||h.fadeOut()}),u),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,i=Object.assign(Object.assign({},kh),t.config.animation);n.style.transitionDuration="".concat(i.exitDuration,"ms"),n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone((function(){t.state=3,n.parentNode.removeChild(n)}),i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))}},{key:"setupTriggerEvents",value:function(t){var e=uc(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Ch))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(xh),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach((function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()})))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){t.forEach((function(t){e._triggerElement.addEventListener(t,e,wh)}))}))}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(Ch.forEach((function(e){t._triggerElement.removeEventListener(e,t,wh)})),this._pointerUpEventsRegistered&&xh.forEach((function(e){t._triggerElement.removeEventListener(e,t,wh)})))}}]),t}(),Sh=new r.q("mat-ripple-global-options"),Eh=((vh=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Oh(this,n,e,i)}return _createClass(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}()).\u0275fac=function(t){return new(t||vh)(r.Mb(r.l),r.Mb(r.z),r.Mb(Lc),r.Mb(Sh,8),r.Mb(eh.a,8))},vh.\u0275dir=r.Hb({type:vh,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),vh),Mh=((mh=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:mh}),mh.\u0275inj=r.Jb({factory:function(t){return new(t||mh)},imports:[[uh,zc],uh]}),mh),Ah=((ph=function t(e){_classCallCheck(this,t),this._animationMode=e,this.state="unchecked",this.disabled=!1}).\u0275fac=function(t){return new(t||ph)(r.Mb(eh.a,8))},ph.\u0275cmp=r.Gb({type:ph,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Eb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),ph),Rh=((dh=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:dh}),dh.\u0275inj=r.Jb({factory:function(t){return new(t||dh)}}),dh),Ph=ch((function t(){_classCallCheck(this,t)})),Vh=0,Dh=((gh=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._labelId="mat-optgroup-label-".concat(Vh++),t}return n}(Ph)).\u0275fac=function(t){return Th(t||gh)},gh.\u0275cmp=r.Gb({type:gh,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Cb("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),r.Eb("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[r.yb],ngContentSelectors:ih,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(r.gc(nh),r.Rb(0,"label",0),r.uc(1),r.fc(2),r.Qb(),r.fc(3,1)),2&t&&(r.hc("id",e._labelId),r.Bb(1),r.wc("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),gh),Th=r.Tb(Dh),Ih=0,Nh=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,t),this.source=e,this.isUserInput=n},jh=new r.q("MAT_OPTION_PARENT_COMPONENT"),Fh=((_h=function(){function t(e,n,i,o){_classCallCheck(this,t),this._element=e,this._changeDetectorRef=n,this._parent=i,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-".concat(Ih++),this.onSelectionChange=new r.n,this._stateChanges=new hc.a}return _createClass(t,[{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(t,e){var n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(t){13!==t.keyCode&&32!==t.keyCode||Rc(t)||(this._selectViaInteraction(),t.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new Nh(this,t))}},{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(t){this._disabled=oc(t)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}}]),t}()).\u0275fac=function(t){return new(t||_h)(r.Mb(r.l),r.Mb(r.h),r.Mb(jh,8),r.Mb(Dh,8))},_h.\u0275cmp=r.Gb({type:_h,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.Zb("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(r.Ub("id",e.id),r.Cb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Eb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:ah,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(r.gc(),r.tc(0,rh,1,2,"mat-pseudo-checkbox",0),r.Rb(1,"span",1),r.fc(2),r.Qb(),r.Nb(3,"div",2)),2&t&&(r.hc("ngIf",e.multiple),r.Bb(3),r.hc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[o.k,Eh,Ah],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),_h);function Lh(t,e,n){if(n.length){for(var i=e.toArray(),r=n.toArray(),o=0,a=0;a<t+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}var zh,Bh=((zh=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:zh}),zh.\u0275inj=r.Jb({factory:function(t){return new(t||zh)},imports:[[Mh,o.b,Rh]]}),zh),Hh=new r.q("mat-label-global-options"),Wh=n("VRyK"),Uh=n("DH7j"),Yh=n("n6bG");function Gh(t,e,n,i){return Object(Yh.a)(n)&&(i=n,n=void 0),i?Gh(t,e,n).pipe(Object(Tc.a)((function(t){return Object(Uh.a)(t)?i.apply(void 0,_toConsumableArray(t)):i(t)}))):new cc.a((function(i){!function t(e,n,i,r,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,i,o),a=function(){return s.removeEventListener(n,i,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var l=e;e.on(n,i),a=function(){return l.off(n,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(n,i),a=function(){return u.removeListener(n,i)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,i,r,o)}r.add(a)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)}))}var Xh=n("l7GE"),qh=n("ZUHj");function Zh(t){return function(e){return e.lift(new Kh(t))}}var Kh=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new Qh(t),i=Object(qh.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),Qh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).seenValue=!1,i}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Xh.a),$h=n("R0Ic"),Jh=["underline"],tf=["connectionContainer"],ef=["inputContainer"],nf=["label"];function rf(t,e){1&t&&(r.Pb(0),r.Rb(1,"div",14),r.Nb(2,"div",15),r.Nb(3,"div",16),r.Nb(4,"div",17),r.Qb(),r.Rb(5,"div",18),r.Nb(6,"div",15),r.Nb(7,"div",16),r.Nb(8,"div",17),r.Qb(),r.Ob())}function of(t,e){1&t&&(r.Rb(0,"div",19),r.fc(1,1),r.Qb())}function af(t,e){if(1&t&&(r.Pb(0),r.fc(1,2),r.Rb(2,"span"),r.uc(3),r.Qb(),r.Ob()),2&t){var n=r.cc(2);r.Bb(3),r.vc(n._control.placeholder)}}function sf(t,e){1&t&&r.fc(0,3,["*ngSwitchCase","true"])}function lf(t,e){1&t&&(r.Rb(0,"span",23),r.uc(1," *"),r.Qb())}function uf(t,e){if(1&t){var n=r.Sb();r.Rb(0,"label",20,21),r.Zb("cdkObserveContent",(function(){return r.nc(n),r.cc().updateOutlineGap()})),r.tc(2,af,4,1,"ng-container",12),r.tc(3,sf,1,0,void 0,12),r.tc(4,lf,2,0,"span",22),r.Qb()}if(2&t){var i=r.cc();r.Eb("mat-empty",i._control.empty&&!i._shouldAlwaysFloat)("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat)("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),r.hc("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),r.Cb("for",i._control.id)("aria-owns",i._control.id),r.Bb(2),r.hc("ngSwitchCase",!1),r.Bb(1),r.hc("ngSwitchCase",!0),r.Bb(1),r.hc("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function cf(t,e){1&t&&(r.Rb(0,"div",24),r.fc(1,4),r.Qb())}function hf(t,e){if(1&t&&(r.Rb(0,"div",25,26),r.Nb(2,"span",27),r.Qb()),2&t){var n=r.cc();r.Bb(2),r.Eb("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function ff(t,e){if(1&t&&(r.Rb(0,"div"),r.fc(1,5),r.Qb()),2&t){var n=r.cc();r.hc("@transitionMessages",n._subscriptAnimationState)}}function df(t,e){if(1&t&&(r.Rb(0,"div",31),r.uc(1),r.Qb()),2&t){var n=r.cc(2);r.hc("id",n._hintLabelId),r.Bb(1),r.vc(n.hintLabel)}}function pf(t,e){if(1&t&&(r.Rb(0,"div",28),r.tc(1,df,2,2,"div",29),r.fc(2,6),r.Nb(3,"div",30),r.fc(4,7),r.Qb()),2&t){var n=r.cc();r.hc("@transitionMessages",n._subscriptAnimationState),r.Bb(1),r.hc("ngIf",n.hintLabel)}}var mf,vf,gf=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],_f=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],yf=0,bf=((mf=function t(){_classCallCheck(this,t),this.id="mat-error-".concat(yf++)}).\u0275fac=function(t){return new(t||mf)},mf.\u0275dir=r.Hb({type:mf,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&r.Cb("id",e.id)},inputs:{id:"id"}}),mf),kf={transitionMessages:Object($h.l)("transitionMessages",[Object($h.i)("enter",Object($h.j)({opacity:1,transform:"translateY(0%)"})),Object($h.k)("void => enter",[Object($h.j)({opacity:0,transform:"translateY(-100%)"}),Object($h.e)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},wf=((vf=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||vf)},vf.\u0275dir=r.Hb({type:vf}),vf);function Cf(t){return Error("A hint was already declared for 'align=\"".concat(t,"\"'."))}var xf,Of,Sf,Ef,Mf,Af,Rf,Pf,Vf=0,Df=((Mf=function t(){_classCallCheck(this,t),this.align="start",this.id="mat-hint-".concat(Vf++)}).\u0275fac=function(t){return new(t||Mf)},Mf.\u0275dir=r.Hb({type:Mf,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Cb("id",e.id)("align",null),r.Eb("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),Mf),Tf=((Ef=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Ef)},Ef.\u0275dir=r.Hb({type:Ef,selectors:[["mat-label"]]}),Ef),If=((Sf=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Sf)},Sf.\u0275dir=r.Hb({type:Sf,selectors:[["mat-placeholder"]]}),Sf),Nf=((Of=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Of)},Of.\u0275dir=r.Hb({type:Of,selectors:[["","matPrefix",""]]}),Of),jf=((xf=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||xf)},xf.\u0275dir=r.Hb({type:xf,selectors:[["","matSuffix",""]]}),xf),Ff=0,Lf=(Af="primary",function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).color=Af,t}return _createClass(n,[{key:"color",get:function(){return this._color},set:function(t){var e=t||Af;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),e&&this._elementRef.nativeElement.classList.add("mat-".concat(e)),this._color=e)}}]),n}((function t(e){_classCallCheck(this,t),this._elementRef=e}))),zf=new r.q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Bf=new r.q("MatFormField"),Hf=((Pf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s,l,u){var c;return _classCallCheck(this,n),(c=e.call(this,t))._elementRef=t,c._changeDetectorRef=i,c._dir=o,c._defaults=a,c._platform=s,c._ngZone=l,c._outlineGapCalculationNeededImmediately=!1,c._outlineGapCalculationNeededOnStable=!1,c._destroyed=new hc.a,c._showAlwaysAnimate=!1,c._subscriptAnimationState="",c._hintLabel="",c._hintLabelId="mat-hint-".concat(Ff++),c._labelId="mat-form-field-label-".concat(Ff++),c._labelOptions=r||{},c.floatLabel=c._getDefaultFloatLabelState(),c._animationsEnabled="NoopAnimations"!==u,c.appearance=a&&a.appearance?a.appearance:"legacy",c._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,c}return _createClass(n,[{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-".concat(e.controlType)),e.stateChanges.pipe(Object(th.a)(null)).subscribe((function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Zh(this._destroyed)).subscribe((function(){return t._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.asObservable().pipe(Zh(t._destroyed)).subscribe((function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()}))})),Object(Wh.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(Object(th.a)(null)).subscribe((function(){t._processHints(),t._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(Object(th.a)(null)).subscribe((function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(Zh(this._destroyed)).subscribe((function(){"function"==typeof requestAnimationFrame?t._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return t.updateOutlineGap()}))})):t.updateOutlineGap()}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!!this._labelChild}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Gh(this._label.nativeElement,"transitionend").pipe(Object(Ic.a)(1)).subscribe((function(){t._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){var t,e,n=this;this._hintChildren&&this._hintChildren.forEach((function(i){if("start"===i.align){if(t||n.hintLabel)throw Cf("start");t=i}else if("end"===i.align){if(e)throw Cf("end");e=i}}))}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if("hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find((function(t){return"start"===t.align})):null,n=this._hintChildren?this._hintChildren.find((function(t){return"end"===t.align})):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map((function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var e=0,n=0,i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=i.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var s,l=this._getStartEnd(a),u=this._getStartEnd(t.children[0].getBoundingClientRect()),c=0,h=_createForOfIteratorHelper(t.children);try{for(h.s();!(s=h.n()).done;)c+=s.value.offsetWidth}catch(p){h.e(p)}finally{h.f()}e=Math.abs(u-l)-5,n=c>0?.75*c+10:0}for(var f=0;f<r.length;f++)r[f].style.width="".concat(e,"px");for(var d=0;d<o.length;d++)o[d].style.width="".concat(n,"px");this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}},{key:"_isAttachedToDOM",value:function(){var t=this._elementRef.nativeElement;if(t.getRootNode){var e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}},{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=oc(t)}},{key:"_shouldAlwaysFloat",get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",get:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}},{key:"_labelChild",get:function(){return this._labelChildNonStatic||this._labelChildStatic}}]),n}(Lf)).\u0275fac=function(t){return new(t||Pf)(r.Mb(r.l),r.Mb(r.h),r.Mb(Hh,8),r.Mb(Qc,8),r.Mb(zf,8),r.Mb(Lc),r.Mb(r.z),r.Mb(eh.a,8))},Pf.\u0275cmp=r.Gb({type:Pf,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,wf,!0),r.qc(n,wf,!0),r.Fb(n,Tf,!0),r.qc(n,Tf,!0),r.Fb(n,If,!0),r.Fb(n,bf,!0),r.Fb(n,Df,!0),r.Fb(n,Nf,!0),r.Fb(n,jf,!0)),2&t&&(r.lc(i=r.ac())&&(e._controlNonStatic=i.first),r.lc(i=r.ac())&&(e._controlStatic=i.first),r.lc(i=r.ac())&&(e._labelChildNonStatic=i.first),r.lc(i=r.ac())&&(e._labelChildStatic=i.first),r.lc(i=r.ac())&&(e._placeholderChild=i.first),r.lc(i=r.ac())&&(e._errorChildren=i),r.lc(i=r.ac())&&(e._hintChildren=i),r.lc(i=r.ac())&&(e._prefixChildren=i),r.lc(i=r.ac())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(r.xc(Jh,!0),r.rc(tf,!0),r.xc(ef,!0),r.xc(nf,!0)),2&t&&(r.lc(n=r.ac())&&(e.underlineRef=n.first),r.lc(n=r.ac())&&(e._connectionContainerRef=n.first),r.lc(n=r.ac())&&(e._inputContainerRef=n.first),r.lc(n=r.ac())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Eb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Ab([{provide:Bf,useExisting:Pf}]),r.yb],ngContentSelectors:_f,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.gc(gf),r.Rb(0,"div",0),r.Rb(1,"div",1,2),r.Zb("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),r.tc(3,rf,9,0,"ng-container",3),r.tc(4,of,2,0,"div",4),r.Rb(5,"div",5,6),r.fc(7),r.Rb(8,"span",7),r.tc(9,uf,5,16,"label",8),r.Qb(),r.Qb(),r.tc(10,cf,2,0,"div",9),r.Qb(),r.tc(11,hf,3,4,"div",10),r.Rb(12,"div",11),r.tc(13,ff,2,1,"div",12),r.tc(14,pf,5,2,"div",13),r.Qb(),r.Qb()),2&t&&(r.Bb(3),r.hc("ngIf","outline"==e.appearance),r.Bb(1),r.hc("ngIf",e._prefixChildren.length),r.Bb(5),r.hc("ngIf",e._hasFloatingLabel()),r.Bb(1),r.hc("ngIf",e._suffixChildren.length),r.Bb(1),r.hc("ngIf","outline"!=e.appearance),r.Bb(1),r.hc("ngSwitch",e._getDisplayedMessages()),r.Bb(1),r.hc("ngSwitchCase","error"),r.Bb(1),r.hc("ngSwitchCase","hint"))},directives:[o.k,o.l,o.m,Ec],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[kf.transitionMessages]},changeDetection:0}),Pf),Wf=((Rf=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:Rf}),Rf.\u0275inj=r.Jb({factory:function(t){return new(t||Rf)},imports:[[o.b,uh,Mc],uh]}),Rf),Uf=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Yf(t,this.compare,this.keySelector))}}]),t}(),Yf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=r,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}]),n}(fc.a),Gf=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xf(t,this.durationSelector))}}]),t}(),Xf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).durationSelector=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=Object(qh.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,i){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(Xh.a);function qf(t){return!Object(Uh.a)(t)&&t-parseFloat(t)+1>=0}var Zf=n("z+Ro");function Kf(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Qf(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vc;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return qf(e)?i=Number(e)<1?1:Number(e):Object(Zf.a)(e)&&(n=e),Object(Zf.a)(n)||(n=vc),new cc.a((function(e){var r=qf(t)?t:+t-n.now();return n.schedule(Kf,r,{index:0,period:i,subscriber:e})}))}(t,n)},function(t){return t.lift(new Gf(e))}}var $f=n("eIep");n("EY2u"),n("9ppp"),n("Ylt2");var Jf,td,ed,nd,id=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_classCallCheck(this,t),this._multiple=n,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new hc.a,i&&i.length&&(n?i.forEach((function(t){return e._markSelected(t)})):this._markSelected(i[0]),this._selectedToEmit.length=0)}return _createClass(t,[{key:"select",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this._verifyValueAssignment(n),n.forEach((function(e){return t._markSelected(e)})),this._emitChangeEvent()}},{key:"deselect",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this._verifyValueAssignment(n),n.forEach((function(e){return t._unmarkSelected(e)})),this._emitChangeEvent()}},{key:"toggle",value:function(t){this.isSelected(t)?this.deselect(t):this.select(t)}},{key:"clear",value:function(){this._unmarkAll(),this._emitChangeEvent()}},{key:"isSelected",value:function(t){return this._selection.has(t)}},{key:"isEmpty",value:function(){return 0===this._selection.size}},{key:"hasValue",value:function(){return!this.isEmpty()}},{key:"sort",value:function(t){this._multiple&&this.selected&&this._selected.sort(t)}},{key:"isMultipleSelection",value:function(){return this._multiple}},{key:"_emitChangeEvent",value:function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}},{key:"_markSelected",value:function(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}},{key:"_unmarkSelected",value:function(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}},{key:"_unmarkAll",value:function(){var t=this;this.isEmpty()||this._selection.forEach((function(e){return t._unmarkSelected(e)}))}},{key:"_verifyValueAssignment",value:function(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}},{key:"selected",get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}}]),t}(),rd=((nd=function(){function t(e,n,i){_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._scrolled=new hc.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return _createClass(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new cc.a((function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(Qf(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Object(Ac.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(Dc.a)((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(i,r){e._scrollableContainsElement(r,t)&&n.push(r)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return Gh(t._getWindow().document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||nd)(r.Vb(r.z),r.Vb(Lc),r.Vb(o.c,8))},nd.\u0275prov=Object(r.Ib)({factory:function(){return new nd(Object(r.Vb)(r.z),Object(r.Vb)(Lc),Object(r.Vb)(o.c,8))},token:nd,providedIn:"root"}),nd),od=((ed=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this._platform=e,this._document=i,n.runOutsideAngular((function(){var t=r._getWindow();r._change=e.isBrowser?Object(Wh.a)(Gh(t,"resize"),Gh(t,"orientationchange")):Object(Ac.a)(),r._invalidateCache=r.change().subscribe((function(){return r._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Qf(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||ed)(r.Vb(Lc),r.Vb(r.z),r.Vb(o.c,8))},ed.\u0275prov=Object(r.Ib)({factory:function(){return new ed(Object(r.Vb)(Lc),Object(r.Vb)(r.z),Object(r.Vb)(o.c,8))},token:ed,providedIn:"root"}),ed),ad=((td=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:td}),td.\u0275inj=r.Jb({factory:function(t){return new(t||td)}}),td),sd=((Jf=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:Jf}),Jf.\u0275inj=r.Jb({factory:function(t){return new(t||Jf)},imports:[[$c,zc,ad],$c,ad]}),Jf);function ld(){throw Error("Host already has a portal attached")}var ud,cd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"attach",value:function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&ld(),this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),hd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this)).component=t,a.viewContainerRef=i,a.injector=r,a.componentFactoryResolver=o,a}return n}(cd),fd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=i,o.context=r,o}return _createClass(n,[{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(cd),dd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t instanceof r.l?t.nativeElement:t,i}return n}(cd),pd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a){var s,l;return _classCallCheck(this,n),(l=e.call(this)).outletElement=t,l._componentFactoryResolver=i,l._appRef=r,l._defaultInjector=o,l.attachDomPortal=function(t){if(!l._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var i=l._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),l.outletElement.appendChild(e),_get((s=_assertThisInitialized(l),_getPrototypeOf(n.prototype)),"setDisposeFn",s).call(s,(function(){i.parentNode&&i.parentNode.replaceChild(e,i)}))},l._document=a,l}return _createClass(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=i.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context);return i.detectChanges(),i.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),this.setDisposeFn((function(){var t=n.indexOf(i);-1!==t&&n.remove(t)})),i}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(function(){function t(){_classCallCheck(this,t),this._isDisposed=!1,this.attachDomPortal=null}return _createClass(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&ld(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof hd?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof fd?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof dd?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}()),md=((ud=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:ud}),ud.\u0275inj=r.Jb({factory:function(t){return new(t||ud)}}),ud),vd=function(){function t(e,n){_classCallCheck(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=lc(-this._previousScrollPosition.left),t.style.top=lc(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}();function gd(){return Error("Scroll strategy has already been attached.")}var _d=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run((function(){return o._overlayRef.detach()}))}}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw gd();this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),yd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function bd(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function kd(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var wd,Cd=function(){function t(e,n,i,r){_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw gd();this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),i=n.width,r=n.height;bd(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),xd=((wd=function t(e,n,i,r){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new yd},this.close=function(t){return new _d(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new vd(o._viewportRuler,o._document)},this.reposition=function(t){return new Cd(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=r}).\u0275fac=function(t){return new(t||wd)(r.Vb(rd),r.Vb(od),r.Vb(r.z),r.Vb(o.c))},wd.\u0275prov=Object(r.Ib)({factory:function(){return new wd(Object(r.Vb)(rd),Object(r.Vb)(od),Object(r.Vb)(r.z),Object(r.Vb)(o.c))},token:wd,providedIn:"root"}),wd),Od=function t(e){if(_classCallCheck(this,t),this.scrollStrategy=new yd,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];void 0!==e[r]&&(this[r]=e[r])}},Sd=function t(e,n,i,r,o){_classCallCheck(this,t),this.offsetX=i,this.offsetY=r,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},Ed=function t(e,n){_classCallCheck(this,t),this.connectionPair=e,this.scrollableViewProperties=n};function Md(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". ')+'Expected "top", "bottom" or "center".')}function Ad(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". ')+'Expected "start", "end" or "center".')}var Rd,Pd,Vd=((Rd=function(){function t(e){var n=this;_classCallCheck(this,t),this._attachedOverlays=[],this._keydownListener=function(t){for(var e=n._attachedOverlays,i=e.length-1;i>-1;i--)if(e[i]._keydownEvents.observers.length>0){e[i]._keydownEvents.next(t);break}},this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),t}()).\u0275fac=function(t){return new(t||Rd)(r.Vb(o.c))},Rd.\u0275prov=Object(r.Ib)({factory:function(){return new Rd(Object(r.Vb)(o.c))},token:Rd,providedIn:"root"}),Rd),Dd=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),Td=((Pd=function(){function t(e,n){_classCallCheck(this,t),this._platform=n,this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||Dd)for(var e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);var i=this._document.createElement("div");i.classList.add("cdk-overlay-container"),Dd?i.setAttribute("platform","test"):t||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}]),t}()).\u0275fac=function(t){return new(t||Pd)(r.Vb(o.c),r.Vb(Lc))},Pd.\u0275prov=Object(r.Ib)({factory:function(){return new Pd(Object(r.Vb)(o.c),Object(r.Vb)(Lc))},token:Pd,providedIn:"root"}),Pd),Id=function(){function t(e,n,i,r,o,a,s,l){var u=this;_classCallCheck(this,t),this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._backdropElement=null,this._backdropClick=new hc.a,this._attachments=new hc.a,this._detachments=new hc.a,this._locationChanges=dc.a.EMPTY,this._backdropClickHandler=function(t){return u._backdropClick.next(t)},this._keydownEvents=new hc.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}return _createClass(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(Ic.a)(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEvents.asObservable()}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=lc(this._config.width),t.height=lc(this._config.height),t.minWidth=lc(this._config.minWidth),t.minHeight=lc(this._config.minHeight),t.maxWidth=lc(this._config.maxWidth),t.maxHeight=lc(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",i)})),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular((function(){return setTimeout(i,500)}))}}},{key:"_toggleClasses",value:function(t,e,n){var i=t.classList;sc(e).forEach((function(t){t&&(n?i.add(t):i.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.asObservable().pipe(Zh(Object(Wh.a)(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),Nd=/([A-Za-z%]+)$/,jd=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new hc.a,this._resizeSubscription=dc.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}return _createClass(t,[{key:"attach",value:function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,i=this._overlayRect,r=this._viewportRect,o=[],a=_createForOfIteratorHelper(this._preferredPositions);try{for(a.s();!(e=a.n()).done;){var s=e.value,l=this._getOriginPoint(n,s),u=this._getOverlayPoint(l,i,s),c=this._getOverlayFit(u,i,r,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(c,u,r)?o.push({position:s,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!t||t.overlayFit.visibleArea<c.visibleArea)&&(t={overlayFit:c,overlayPoint:u,originPoint:l,position:s,overlayRect:i})}}catch(g){a.e(g)}finally{a.f()}if(o.length){var h,f=null,d=-1,p=_createForOfIteratorHelper(o);try{for(p.s();!(h=p.n()).done;){var m=h.value,v=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);v>d&&(d=v,f=m)}}catch(g){p.e(g)}finally{p.f()}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&Fd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}},{key:"_getOverlayFit",value:function(t,e,n,i){var r=t.x,o=t.y,a=this._getOffset(i,"x"),s=this._getOffset(i,"y");a&&(r+=a),s&&(o+=s);var l=0-o,u=o+e.height-n.height,c=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,l,u),f=c*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var i=n.bottom-e.y,r=n.right-e.x,o=Ld(this._overlayRef.getConfig().minHeight),a=Ld(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=a&&a<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var i,r,o=this._viewportRect,a=Math.max(t.x+e.width-o.right,0),s=Math.max(t.y+e.height-o.bottom,0),l=Math.max(o.top-n.top-t.y,0),u=Math.max(o.left-n.left-t.x,0);return i=e.width<=o.width?u||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,r=e.height<=o.height?l||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:i,y:r},{x:t.x+i,y:t.y+r}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new Ed(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var r=0;r<n.length;r++)n[r].style.transformOrigin="".concat(e," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,i,r,o,a,s,l=this._viewportRect,u=this._isRtl();if("top"===e.overlayY)i=t.y,n=l.height-i+this._viewportMargin;else if("bottom"===e.overlayY)r=l.height-t.y+2*this._viewportMargin,n=l.height-r+this._viewportMargin;else{var c=Math.min(l.bottom-t.y+l.top,t.y),h=this._lastBoundingBoxSize.height;n=2*c,i=t.y-c,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-h/2)}if("end"===e.overlayX&&!u||"start"===e.overlayX&&u)s=l.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!u||"end"===e.overlayX&&u)a=t.x,o=l.right-t.x;else{var f=Math.min(l.right-t.x+l.left,t.x),d=this._lastBoundingBoxSize.width;o=2*f,a=t.x-f,o>d&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-d/2)}return{top:i,left:a,bottom:r,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=lc(n.height),i.top=lc(n.top),i.bottom=lc(n.bottom),i.width=lc(n.width),i.left=lc(n.left),i.right=lc(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(i.maxHeight=lc(r)),o&&(i.maxWidth=lc(o))}this._lastBoundingBoxSize=n,Fd(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){Fd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){Fd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){var a=this._viewportRuler.getViewportScrollPosition();Fd(n,this._getExactOverlayY(e,t,a)),Fd(n,this._getExactOverlayX(e,t,a))}else n.position="static";var s="",l=this._getOffset(e,"x"),u=this._getOffset(e,"y");l&&(s+="translateX(".concat(l,"px) ")),u&&(s+="translateY(".concat(u,"px)")),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=lc(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=lc(o.maxWidth):r&&(n.maxWidth="")),Fd(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom="".concat(this._document.documentElement.clientHeight-(r.y+this._overlayRect.height),"px"):i.top=lc(r.y),i}},{key:"_getExactOverlayX",value:function(t,e,n){var i={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right="".concat(this._document.documentElement.clientWidth-(r.x+this._overlayRect.width),"px"):i.left=lc(r.x),i}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:kd(t,n),isOriginOutsideView:bd(t,n),isOverlayClipped:kd(e,n),isOverlayOutsideView:bd(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){Ad("originX",t.originX),Md("originY",t.originY),Ad("overlayX",t.overlayX),Md("overlayY",t.overlayY)}))}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&sc(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function Fd(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ld(t){if("number"!=typeof t&&null!=t){var e=_slicedToArray(t.split(Nd),2),n=e[0],i=e[1];return i&&"px"!==i?null:parseFloat(n)}return t||null}var zd,Bd,Hd,Wd,Ud,Yd=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this._preferredPositions=[],this._positionStrategy=new jd(i,r,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n)}return _createClass(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,i){var r=new Sd(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),Gd=function(){function t(){_classCallCheck(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),i=n.width,r=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),l=!("100%"!==r&&"100vh"!==r||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),Xd=((Bd=function(){function t(e,n,i,r){_classCallCheck(this,t),this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r}return _createClass(t,[{key:"global",value:function(){return new Gd}},{key:"connectedTo",value:function(t,e,n){return new Yd(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new jd(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).\u0275fac=function(t){return new(t||Bd)(r.Vb(od),r.Vb(o.c),r.Vb(Lc),r.Vb(Td))},Bd.\u0275prov=Object(r.Ib)({factory:function(){return new Bd(Object(r.Vb)(od),Object(r.Vb)(o.c),Object(r.Vb)(Lc),Object(r.Vb)(Td))},token:Bd,providedIn:"root"}),Bd),qd=0,Zd=((zd=function(){function t(e,n,i,r,o,a,s,l,u,c){_classCallCheck(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=l,this._directionality=u,this._location=c}return _createClass(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Od(t);return r.direction=r.direction||this._directionality.value,new Id(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-".concat(qd++),e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new pd(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}()).\u0275fac=function(t){return new(t||zd)(r.Vb(xd),r.Vb(Td),r.Vb(r.j),r.Vb(Xd),r.Vb(Vd),r.Vb(r.r),r.Vb(r.z),r.Vb(o.c),r.Vb(Qc),r.Vb(o.g,8))},zd.\u0275prov=r.Ib({token:zd,factory:zd.\u0275fac}),zd),Kd=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Qd=new r.q("cdk-connected-overlay-scroll-strategy"),$d=((Wd=function t(e){_classCallCheck(this,t),this.elementRef=e}).\u0275fac=function(t){return new(t||Wd)(r.Mb(r.l))},Wd.\u0275dir=r.Hb({type:Wd,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),Wd),Jd=((Hd=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=dc.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new r.n,this.positionChange=new r.n,this.attach=new r.n,this.detach=new r.n,this.overlayKeydown=new r.n,this._templatePortal=new fd(n,i),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}},{key:"_createOverlay",value:function(){var t=this;this.positions&&this.positions.length||(this.positions=Kd),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe((function(e){t.overlayKeydown.next(e),27!==e.keyCode||Rc(e)||(e.preventDefault(),t._detachOverlay())}))}},{key:"_buildConfig",value:function(){var t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new Od({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}},{key:"_updatePositionStrategy",value:function(t){var e=this,n=this.positions.map((function(t){return{originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||e.offsetX,offsetY:t.offsetY||e.offsetY,panelClass:t.panelClass||void 0}}));return t.setOrigin(this.origin.elementRef).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}},{key:"_createPositionStrategy",value:function(){var t=this,e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e.positionChanges.subscribe((function(e){return t.positionChange.emit(e)})),e}},{key:"_attachOverlay",value:function(){var t=this;this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe((function(e){t.backdropClick.emit(e)})):this._backdropSubscription.unsubscribe()}},{key:"_detachOverlay",value:function(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}},{key:"offsetX",get:function(){return this._offsetX},set:function(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"offsetY",get:function(){return this._offsetY},set:function(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=oc(t)}},{key:"lockPosition",get:function(){return this._lockPosition},set:function(t){this._lockPosition=oc(t)}},{key:"flexibleDimensions",get:function(){return this._flexibleDimensions},set:function(t){this._flexibleDimensions=oc(t)}},{key:"growAfterOpen",get:function(){return this._growAfterOpen},set:function(t){this._growAfterOpen=oc(t)}},{key:"push",get:function(){return this._push},set:function(t){this._push=oc(t)}},{key:"overlayRef",get:function(){return this._overlayRef}},{key:"dir",get:function(){return this._dir?this._dir.value:"ltr"}}]),t}()).\u0275fac=function(t){return new(t||Hd)(r.Mb(Zd),r.Mb(r.L),r.Mb(r.O),r.Mb(Qd),r.Mb(Qc,8))},Hd.\u0275dir=r.Hb({type:Hd,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[r.zb]}),Hd),tp={provide:Qd,deps:[Zd],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},ep=((Ud=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:Ud}),Ud.\u0275inj=r.Jb({factory:function(t){return new(t||Ud)},providers:[Zd,tp],imports:[[$c,md,sd],sd]}),Ud),np=n("NXyV"),ip=n("XoHu"),rp=n("Cfvw");function op(t,e){return new cc.a((function(n){var i=t.length;if(0!==i)for(var r=new Array(i),o=0,a=0,s=function(s){var l=Object(rp.a)(t[s]),u=!1;n.add(l.subscribe({next:function(t){u||(u=!0,a++),r[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==i&&u||(a===i&&n.next(e?e.reduce((function(t,e,n){return t[e]=r[n],t}),{}):r),n.complete())}}))},l=0;l<i;l++)s(l);else n.complete()}))}var ap,sp,lp,up,cp=new r.q("NgValueAccessor"),hp={provide:cp,useExisting:Object(r.T)((function(){return fp})),multi:!0},fp=((ap=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||ap)(r.Mb(r.E),r.Mb(r.l))},ap.\u0275dir=r.Hb({type:ap,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([hp])]}),ap),dp={provide:cp,useExisting:Object(r.T)((function(){return mp})),multi:!0},pp=new r.q("CompositionEventMode"),mp=((up=function(){function t(e,n,i){var r;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=i,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(o.u)()?Object(o.u)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||up)(r.Mb(r.E),r.Mb(r.l),r.Mb(pp,8))},up.\u0275dir=r.Hb({type:up,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Zb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Ab([dp])]}),up),vp=((lp=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||lp)},lp.\u0275dir=r.Hb({type:lp}),lp),gp=((sp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(vp)).\u0275fac=function(t){return _p(t||sp)},sp.\u0275dir=r.Hb({type:sp,features:[r.yb]}),sp),_p=r.Tb(gp);function yp(){throw new Error("unimplemented")}var bp,kp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return yp()}},{key:"asyncValidator",get:function(){return yp()}}]),n}(vp),wp=((bp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}())).\u0275fac=function(t){return new(t||bp)(r.Mb(kp,2))},bp.\u0275dir=r.Hb({type:bp,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),bp);function Cp(t){return null==t||0===t.length}var xp=new r.q("NgValidators"),Op=new r.q("NgAsyncValidators"),Sp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ep=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(Cp(e.value)||Cp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Cp(e.value)||Cp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Cp(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Cp(t.value)||Sp.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(Cp(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(Cp(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(Mp);return 0==e.length?null:function(t){return Rp(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(Mp);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];if(Object(Uh.a)(i))return op(i,null);if(Object(ip.a)(i)&&Object.getPrototypeOf(i)===Object.prototype){var r=Object.keys(i);return op(r.map((function(t){return i[t]})),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return op(e=1===e.length&&Object(Uh.a)(e[0])?e[0]:e,null).pipe(Object(Tc.a)((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return op(e,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(Ap)).pipe(Object(Tc.a)(Rp))}}}]),t}();function Mp(t){return null!=t}function Ap(t){var e=Object(r.sb)(t)?Object(rp.a)(t):t;if(!Object(r.rb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Rp(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function Pp(t){return t.validate?function(e){return t.validate(e)}:t}function Vp(t){return t.validate?function(e){return t.validate(e)}:t}var Dp,Tp,Ip,Np,jp,Fp,Lp={provide:cp,useExisting:Object(r.T)((function(){return zp})),multi:!0},zp=((Dp=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Dp)(r.Mb(r.E),r.Mb(r.l))},Dp.\u0275dir=r.Hb({type:Dp,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([Lp])]}),Dp),Bp={provide:cp,useExisting:Object(r.T)((function(){return Wp})),multi:!0},Hp=((Ip=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Ip)},Ip.\u0275prov=r.Ib({token:Ip,factory:Ip.\u0275fac}),Ip),Wp=((Tp=function(){function t(e,n,i,r){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(kp),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||Tp)(r.Mb(r.E),r.Mb(r.l),r.Mb(Hp),r.Mb(r.r))},Tp.\u0275dir=r.Hb({type:Tp,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Ab([Bp])]}),Tp),Up={provide:cp,useExisting:Object(r.T)((function(){return Yp})),multi:!0},Yp=((Np=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Np)(r.Mb(r.E),r.Mb(r.l))},Np.\u0275dir=r.Hb({type:Np,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([Up])]}),Np),Gp='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Xp='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',qp='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Zp={provide:cp,useExisting:Object(r.T)((function(){return Kp})),multi:!0},Kp=((jp=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.tb}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||jp)(r.Mb(r.E),r.Mb(r.l))},jp.\u0275dir=r.Hb({type:jp,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([Zp])]}),jp),Qp={provide:cp,useExisting:Object(r.T)((function(){return $p})),multi:!0},$p=((Fp=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.tb}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var i=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var a=r.item(o),s=e._getOptionValue(a.value);i.push(s)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var h=e._getOptionValue(c.value);i.push(h)}}e.value=i,t(i)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||Fp)(r.Mb(r.E),r.Mb(r.l))},Fp.\u0275dir=r.Hb({type:Fp,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([Qp])]}),Fp);function Jp(t,e){return[].concat(_toConsumableArray(e.path),[t])}function tm(t,e){t||rm(e,"Cannot find control with"),e.valueAccessor||rm(e,"No value accessor for form control with"),t.validator=Ep.compose([t.validator,e.validator]),t.asyncValidator=Ep.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&em(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&em(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function em(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nm(t,e){null==t&&rm(e,"Cannot find control with"),t.validator=Ep.compose([t.validator,e.validator]),t.asyncValidator=Ep.composeAsync([t.asyncValidator,e.asyncValidator])}function im(t){return rm(t,"There is no FormControl instance attached to form control element with")}function rm(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function om(t){return null!=t?Ep.compose(t.map(Pp)):null}function am(t){return null!=t?Ep.composeAsync(t.map(Vp)):null}var sm=[fp,Yp,zp,Kp,$p,Wp];function lm(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function um(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function cm(t){var e=fm(t)?t.validators:t;return Array.isArray(e)?om(e):e||null}function hm(t,e){var n=fm(e)?e.asyncValidators:t;return Array.isArray(n)?am(n):n||null}function fm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var dm,pm,mm,vm,gm,_m,ym,bm=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=cm(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=hm(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=Ap(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var i=t;return e.forEach((function(t){i=i instanceof wm?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Cm&&i.at(t)||null})),i}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){fm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),km=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,cm(r),hm(o,r)))._onChange=[],t._applyFormState(i),t._setUpdateStrategy(r),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(bm),wm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,cm(i),hm(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof km?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(i,r){n=n||e.contains(r)&&t(i)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,i){n=e(n,t,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(bm),Cm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,cm(i),hm(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof km?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(bm),xm={provide:gp,useExisting:Object(r.T)((function(){return Sm}))},Om=Promise.resolve(null),Sm=((pm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.n,o.form=new wm({},om(t),am(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;Om.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),tm(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Om.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),um(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;Om.then((function(){var n=e._findContainer(t.path),i=new wm({});nm(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;Om.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Om.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,lm(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(gp)).\u0275fac=function(t){return new(t||pm)(r.Mb(xp,10),r.Mb(Op,10))},pm.\u0275dir=r.Hb({type:pm,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Zb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([xm]),r.yb]}),pm),Em=((dm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Jp(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return om(this._validators)}},{key:"asyncValidator",get:function(){return am(this._asyncValidators)}}]),n}(gp)).\u0275fac=function(t){return Mm(t||dm)},dm.\u0275dir=r.Hb({type:dm,features:[r.yb]}),dm),Mm=r.Tb(Em),Am=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(Gp,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Xp,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(qp))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Xp,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(qp))}}]),t}(),Rm={provide:gp,useExisting:Object(r.T)((function(){return Pm}))},Pm=((mm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=i,o._asyncValidators=r,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof Sm||Am.modelGroupParentException()}}]),n}(Em)).\u0275fac=function(t){return new(t||mm)(r.Mb(gp,5),r.Mb(xp,10),r.Mb(Op,10))},mm.\u0275dir=r.Hb({type:mm,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.Ab([Rm]),r.yb]}),mm),Vm={provide:kp,useExisting:Object(r.T)((function(){return Tm}))},Dm=Promise.resolve(null),Tm=((vm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this)).control=new km,s._registered=!1,s.update=new r.n,s._parent=t,s._rawValidators=i||[],s._rawAsyncValidators=o||[],s.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||rm(t,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return e.forEach((function(e){var o;e.constructor===mp?n=e:(o=e,sm.some((function(t){return o.constructor===t}))?(i&&rm(t,"More than one built-in value accessor matches form control with"),i=e):(r&&rm(t,"More than one custom value accessor matches form control with"),r=e))})),r||i||n||(rm(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(s),a),s}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r.tb)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){tm(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Pm)&&this._parent instanceof Em?Am.formGroupNameException():this._parent instanceof Pm||this._parent instanceof Sm||Am.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Am.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;Dm.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;Dm.then((function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?Jp(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return om(this._rawValidators)}},{key:"asyncValidator",get:function(){return am(this._rawAsyncValidators)}}]),n}(kp)).\u0275fac=function(t){return new(t||vm)(r.Mb(gp,9),r.Mb(xp,10),r.Mb(Op,10),r.Mb(cp,10))},vm.\u0275dir=r.Hb({type:vm,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Ab([Vm]),r.yb,r.zb]}),vm),Im={provide:gp,useExisting:Object(r.T)((function(){return Nm}))},Nm=((ym=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._validators=t,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.n,o}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return tm(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){um(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);nm(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);nm(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,lm(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return im(e)})),e.valueAccessor.registerOnTouched((function(){return im(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&tm(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=om(this._validators);this.form.validator=Ep.compose([this.form.validator,t]);var e=am(this._asyncValidators);this.form.asyncValidator=Ep.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(gp)).\u0275fac=function(t){return new(t||ym)(r.Mb(xp,10),r.Mb(Op,10))},ym.\u0275dir=r.Hb({type:ym,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Zb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([Im]),r.yb,r.zb]}),ym),jm=((_m=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:_m}),_m.\u0275inj=r.Jb({factory:function(t){return new(t||_m)}}),_m),Fm=((gm=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:gm}),gm.\u0275inj=r.Jb({factory:function(t){return new(t||gm)},providers:[Hp],imports:[jm]}),gm),Lm=["trigger"],zm=["panel"];function Bm(t,e){if(1&t&&(r.Rb(0,"span",8),r.uc(1),r.Qb()),2&t){var n=r.cc();r.Bb(1),r.vc(n.placeholder||"\xa0")}}function Hm(t,e){if(1&t&&(r.Rb(0,"span"),r.uc(1),r.Qb()),2&t){var n=r.cc(2);r.Bb(1),r.vc(n.triggerValue||"\xa0")}}function Wm(t,e){1&t&&r.fc(0,0,["*ngSwitchCase","true"])}function Um(t,e){if(1&t&&(r.Rb(0,"span",9),r.tc(1,Hm,2,1,"span",10),r.tc(2,Wm,1,0,void 0,11),r.Qb()),2&t){var n=r.cc();r.hc("ngSwitch",!!n.customTrigger),r.Bb(2),r.hc("ngSwitchCase",!0)}}function Ym(t,e){if(1&t){var n=r.Sb();r.Rb(0,"div",12),r.Rb(1,"div",13,14),r.Zb("@transformPanel.done",(function(t){return r.nc(n),r.cc()._panelDoneAnimatingStream.next(t.toState)}))("keydown",(function(t){return r.nc(n),r.cc()._handleKeydown(t)})),r.fc(3,1),r.Qb(),r.Qb()}if(2&t){var i=r.cc();r.hc("@transformPanelWrap",void 0),r.Bb(1),r.Db("mat-select-panel ",i._getPanelTheme(),""),r.sc("transform-origin",i._transformOrigin)("font-size",i._triggerFontSize,"px"),r.hc("ngClass",i.panelClass)("@transformPanel",i.multiple?"showing-multiple":"showing"),r.Cb("id",i.id+"-panel")}}var Gm,Xm,qm,Zm=[[["mat-select-trigger"]],"*"],Km=["mat-select-trigger","*"],Qm={transformPanelWrap:Object($h.l)("transformPanelWrap",[Object($h.k)("* => void",Object($h.g)("@transformPanel",[Object($h.f)()],{optional:!0}))]),transformPanel:Object($h.l)("transformPanel",[Object($h.i)("void",Object($h.j)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object($h.i)("showing",Object($h.j)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object($h.i)("showing-multiple",Object($h.j)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object($h.k)("void => *",Object($h.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object($h.k)("* => void",Object($h.e)("100ms 25ms linear",Object($h.j)({opacity:0})))])},$m=0,Jm=new r.q("mat-select-scroll-strategy"),tv=new r.q("MAT_SELECT_CONFIG"),ev={provide:Jm,deps:[Zd],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},nv=function t(e,n){_classCallCheck(this,t),this.source=e,this.value=n},iv=function(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disableRipple=!1,t}return _createClass(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=oc(t)}}]),n}(t)}(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){_inherits(i,t);var n=_createSuper(i);function i(){var t;_classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o)))._tabIndex=e,t}return _createClass(i,[{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(t){this._tabIndex=null!=t?t:e}}]),i}(t)}(ch(function(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).errorState=!1,t.stateChanges=new hc.a,t}return _createClass(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}(t)}((function t(e,n,i,r,o){_classCallCheck(this,t),this._elementRef=e,this._defaultErrorStateMatcher=n,this._parentForm=i,this._parentFormGroup=r,this.ngControl=o}))))),rv=((qm=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||qm)},qm.\u0275dir=r.Hb({type:qm,selectors:[["mat-select-trigger"]]}),qm),ov=((Xm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a,s,l,u,c,h,f,d,p,m,v){var g;return _classCallCheck(this,n),(g=e.call(this,s,a,u,c,f))._viewportRuler=t,g._changeDetectorRef=i,g._ngZone=o,g._dir=l,g._parentFormField=h,g.ngControl=f,g._liveAnnouncer=m,g._panelOpen=!1,g._required=!1,g._scrollTop=0,g._multiple=!1,g._compareWith=function(t,e){return t===e},g._uid="mat-select-".concat($m++),g._destroy=new hc.a,g._triggerFontSize=0,g._onChange=function(){},g._onTouched=function(){},g._optionIds="",g._transformOrigin="top",g._panelDoneAnimatingStream=new hc.a,g._offsetY=0,g._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],g._disableOptionCentering=!1,g._focused=!1,g.controlType="mat-select",g.ariaLabel="",g.optionSelectionChanges=Object(np.a)((function(){var t=g.options;return t?t.changes.pipe(Object(th.a)(t),Object($f.a)((function(){return Object(Wh.a).apply(void 0,_toConsumableArray(t.map((function(t){return t.onSelectionChange}))))}))):g._ngZone.onStable.asObservable().pipe(Object(Ic.a)(1),Object($f.a)((function(){return g.optionSelectionChanges})))})),g.openedChange=new r.n,g._openedStream=g.openedChange.pipe(Object(Dc.a)((function(t){return t})),Object(Tc.a)((function(){}))),g._closedStream=g.openedChange.pipe(Object(Dc.a)((function(t){return!t})),Object(Tc.a)((function(){}))),g.selectionChange=new r.n,g.valueChange=new r.n,g.ngControl&&(g.ngControl.valueAccessor=_assertThisInitialized(g)),g._scrollStrategyFactory=p,g._scrollStrategy=g._scrollStrategyFactory(),g.tabIndex=parseInt(d)||0,g.id=g.id,v&&(null!=v.disableOptionCentering&&(g.disableOptionCentering=v.disableOptionCentering),null!=v.typeaheadDebounceInterval&&(g.typeaheadDebounceInterval=v.typeaheadDebounceInterval)),g}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this._selectionModel=new id(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((function(t){return t.lift(new Uf(void 0,void 0))}),Zh(this._destroy)).subscribe((function(){t.panelOpen?(t._scrollTop=0,t.openedChange.emit(!0)):(t.openedChange.emit(!1),t.overlayDir.offsetX=0,t._changeDetectorRef.markForCheck())})),this._viewportRuler.change().pipe(Zh(this._destroy)).subscribe((function(){t._panelOpen&&(t._triggerRect=t.trigger.nativeElement.getBoundingClientRect(),t._changeDetectorRef.markForCheck())}))}},{key:"ngAfterContentInit",value:function(){var t=this;this._initKeyManager(),this._selectionModel.changed.pipe(Zh(this._destroy)).subscribe((function(t){t.added.forEach((function(t){return t.select()})),t.removed.forEach((function(t){return t.deselect()}))})),this.options.changes.pipe(Object(th.a)(null),Zh(this._destroy)).subscribe((function(){t._resetOptions(),t._initializeSelection()}))}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState()}},{key:"ngOnChanges",value:function(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}},{key:"ngOnDestroy",value:function(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}},{key:"toggle",value:function(){this.panelOpen?this.close():this.open()}},{key:"open",value:function(){var t=this;!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Object(Ic.a)(1)).subscribe((function(){t._triggerFontSize&&t.overlayDir.overlayRef&&t.overlayDir.overlayRef.overlayElement&&(t.overlayDir.overlayRef.overlayElement.style.fontSize="".concat(t._triggerFontSize,"px"))})))}},{key:"close",value:function(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}},{key:"writeValue",value:function(t){this.options&&this._setSelectionByValue(t)}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"_isRtl",value:function(){return!!this._dir&&"rtl"===this._dir.value}},{key:"_handleKeydown",value:function(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}},{key:"_handleClosedKeydown",value:function(t){var e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!Rc(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){var o=this.selected;36===e||35===e?(36===e?r.setFirstItemActive():r.setLastItemActive(),t.preventDefault()):r.onKeydown(t);var a=this.selected;a&&o!==a&&this._liveAnnouncer.announce(a.viewValue,1e4)}}},{key:"_handleOpenKeydown",value:function(t){var e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(36===n||35===n)t.preventDefault(),36===n?e.setFirstItemActive():e.setLastItemActive();else if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||Rc(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();var o=this.options.some((function(t){return!t.disabled&&!t.selected}));this.options.forEach((function(t){t.disabled||(o?t.select():t.deselect())}))}else{var a=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==a&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}},{key:"_onFocus",value:function(){this.disabled||(this._focused=!0,this.stateChanges.next())}},{key:"_onBlur",value:function(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}},{key:"_onAttached",value:function(){var t=this;this.overlayDir.positionChange.pipe(Object(Ic.a)(1)).subscribe((function(){t._changeDetectorRef.detectChanges(),t._calculateOverlayOffsetX(),t.panel.nativeElement.scrollTop=t._scrollTop}))}},{key:"_getPanelTheme",value:function(){return this._parentFormField?"mat-".concat(this._parentFormField.color):""}},{key:"_initializeSelection",value:function(){var t=this;Promise.resolve().then((function(){t._setSelectionByValue(t.ngControl?t.ngControl.value:t._value),t.stateChanges.next()}))}},{key:"_setSelectionByValue",value:function(t){var e=this;if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach((function(t){return e._selectValue(t)})),this._sortValues()}else{this._selectionModel.clear();var n=this._selectValue(t);n?this._keyManager.setActiveItem(n):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}},{key:"_selectValue",value:function(t){var e=this,n=this.options.find((function(n){try{return null!=n.value&&e._compareWith(n.value,t)}catch(i){return Object(r.V)()&&console.warn(i),!1}}));return n&&this._selectionModel.select(n),n}},{key:"_initKeyManager",value:function(){var t=this;this._keyManager=new Bc(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Zh(this._destroy)).subscribe((function(){t.panelOpen&&(!t.multiple&&t._keyManager.activeItem&&t._keyManager.activeItem._selectViaInteraction(),t.focus(),t.close())})),this._keyManager.change.pipe(Zh(this._destroy)).subscribe((function(){t._panelOpen&&t.panel?t._scrollActiveOptionIntoView():t._panelOpen||t.multiple||!t._keyManager.activeItem||t._keyManager.activeItem._selectViaInteraction()}))}},{key:"_resetOptions",value:function(){var t=this,e=Object(Wh.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Zh(e)).subscribe((function(e){t._onSelect(e.source,e.isUserInput),e.isUserInput&&!t.multiple&&t._panelOpen&&(t.close(),t.focus())})),Object(Wh.a).apply(void 0,_toConsumableArray(this.options.map((function(t){return t._stateChanges})))).pipe(Zh(e)).subscribe((function(){t._changeDetectorRef.markForCheck(),t.stateChanges.next()})),this._setOptionIds()}},{key:"_onSelect",value:function(t,e){var n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}},{key:"_sortValues",value:function(){var t=this;if(this.multiple){var e=this.options.toArray();this._selectionModel.sort((function(n,i){return t.sortComparator?t.sortComparator(n,i,e):e.indexOf(n)-e.indexOf(i)})),this.stateChanges.next()}}},{key:"_propagateChanges",value:function(t){var e;e=this.multiple?this.selected.map((function(t){return t.value})):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new nv(this,e)),this._changeDetectorRef.markForCheck()}},{key:"_setOptionIds",value:function(){this._optionIds=this.options.map((function(t){return t.id})).join(" ")}},{key:"_highlightCorrectOption",value:function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}},{key:"_scrollActiveOptionIntoView",value:function(){var t,e,n,i,r=this._keyManager.activeItemIndex||0,o=Lh(r,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=(t=r+o,e=this._getItemHeight(),n=this.panel.nativeElement.scrollTop,(i=t*e)<n?i:i+e>n+256?Math.max(0,i-256+e):n)}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_getOptionIndex",value:function(t){return this.options.reduce((function(e,n,i){return void 0!==e?e:t===n?i:void 0}),void 0)}},{key:"_calculateOverlayPosition",value:function(){var t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n,r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=Lh(r,this.options,this.optionGroups);var o=n/2;this._scrollTop=this._calculateOverlayScroll(r,o,i),this._offsetY=this._calculateOverlayOffsetY(r,o,i),this._checkOverlayWithinViewport(i)}},{key:"_calculateOverlayScroll",value:function(t,e,n){var i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}},{key:"_getAriaLabel",value:function(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}},{key:"_getAriaLabelledby",value:function(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}},{key:"_getAriaActiveDescendant",value:function(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}},{key:"_calculateOverlayOffsetX",value:function(){var t,e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),i=this._isRtl(),r=this.multiple?56:32;if(this.multiple)t=40;else{var o=this._selectionModel.selected[0]||this.options.first;t=o&&o.group?32:16}i||(t*=-1);var a=0-(e.left+t-(i?r:0)),s=e.right+t-n.width+(i?0:r);a>0?t+=a+8:s>0&&(t-=s+8),this.overlayDir.offsetX=Math.round(t),this.overlayDir.overlayRef.updatePosition()}},{key:"_calculateOverlayOffsetY",value:function(t,e,n){var i,r=this._getItemHeight(),o=(r-this._triggerRect.height)/2,a=Math.floor(256/r);return this._disableOptionCentering?0:(i=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-a))*r+(r-(this._getItemCount()*r-256)%r):e-r/2,Math.round(-1*i-o))}},{key:"_checkOverlayWithinViewport",value:function(t){var e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),a=Math.min(this._getItemCount()*e,256)-o-this._triggerRect.height;a>r?this._adjustPanelUp(a,r):o>i?this._adjustPanelDown(o,i,t):this._transformOrigin=this._getOriginBasedOnOption()}},{key:"_adjustPanelUp",value:function(t,e){var n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}},{key:"_adjustPanelDown",value:function(t,e,n){var i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}},{key:"_getOriginBasedOnOption",value:function(){var t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return"50% ".concat(Math.abs(this._offsetY)-e+t/2,"px 0px")}},{key:"_getItemCount",value:function(){return this.options.length+this.optionGroups.length}},{key:"_getItemHeight",value:function(){return 3*this._triggerFontSize}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"onContainerClick",value:function(){this.focus(),this.open()}},{key:"focused",get:function(){return this._focused||this._panelOpen}},{key:"placeholder",get:function(){return this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()}},{key:"required",get:function(){return this._required},set:function(t){this._required=oc(t),this.stateChanges.next()}},{key:"multiple",get:function(){return this._multiple},set:function(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=oc(t)}},{key:"disableOptionCentering",get:function(){return this._disableOptionCentering},set:function(t){this._disableOptionCentering=oc(t)}},{key:"compareWith",get:function(){return this._compareWith},set:function(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(t){t!==this._value&&(this.writeValue(t),this._value=t)}},{key:"typeaheadDebounceInterval",get:function(){return this._typeaheadDebounceInterval},set:function(t){this._typeaheadDebounceInterval=ac(t)}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid,this.stateChanges.next()}},{key:"panelOpen",get:function(){return this._panelOpen}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"triggerValue",get:function(){if(this.empty)return"";if(this._multiple){var t=this._selectionModel.selected.map((function(t){return t.viewValue}));return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}},{key:"empty",get:function(){return!this._selectionModel||this._selectionModel.isEmpty()}},{key:"shouldLabelFloat",get:function(){return this._panelOpen||!this.empty}}]),n}(iv)).\u0275fac=function(t){return new(t||Xm)(r.Mb(od),r.Mb(r.h),r.Mb(r.z),r.Mb(yh),r.Mb(r.l),r.Mb(Qc,8),r.Mb(Sm,8),r.Mb(Nm,8),r.Mb(Bf,8),r.Mb(kp,10),r.Wb("tabindex"),r.Mb(Jm),r.Mb(qc),r.Mb(tv,8))},Xm.\u0275cmp=r.Gb({type:Xm,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(r.Fb(n,rv,!0),r.Fb(n,Fh,!0),r.Fb(n,Dh,!0)),2&t&&(r.lc(i=r.ac())&&(e.customTrigger=i.first),r.lc(i=r.ac())&&(e.options=i),r.lc(i=r.ac())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(r.xc(Lm,!0),r.xc(zm,!0),r.xc(Jd,!0)),2&t&&(r.lc(n=r.ac())&&(e.trigger=n.first),r.lc(n=r.ac())&&(e.panel=n.first),r.lc(n=r.ac())&&(e.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(t,e){1&t&&r.Zb("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(r.Cb("id",e.id)("tabindex",e.tabIndex)("aria-label",e._getAriaLabel())("aria-labelledby",e._getAriaLabelledby())("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-owns",e.panelOpen?e._optionIds:null)("aria-multiselectable",e.multiple)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Eb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[r.Ab([{provide:wf,useExisting:Xm},{provide:jh,useExisting:Xm}]),r.yb,r.zb],ngContentSelectors:Km,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.gc(Zm),r.Rb(0,"div",0,1),r.Zb("click",(function(){return e.toggle()})),r.Rb(3,"div",2),r.tc(4,Bm,2,1,"span",3),r.tc(5,Um,3,2,"span",4),r.Qb(),r.Rb(6,"div",5),r.Nb(7,"div",6),r.Qb(),r.Qb(),r.tc(8,Ym,4,11,"ng-template",7),r.Zb("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){var n=r.mc(1);r.Bb(3),r.hc("ngSwitch",e.empty),r.Bb(1),r.hc("ngSwitchCase",!0),r.Bb(1),r.hc("ngSwitchCase",!1),r.Bb(3),r.hc("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[$d,o.l,o.m,Jd,o.n,o.i],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[Qm.transformPanelWrap,Qm.transformPanel]},changeDetection:0}),Xm),av=((Gm=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:Gm}),Gm.\u0275inj=r.Jb({factory:function(t){return new(t||Gm)},providers:[ev],imports:[[o.b,ep,Bh,uh],ad,Wf,Bh,uh]}),Gm),sv=["mapParent"],lv=["lineParent"],uv=["areaParent"];function cv(t,e){if(1&t&&(r.Rb(0,"mat-option",26),r.uc(1),r.Qb()),2&t){var n=e.$implicit;r.hc("value",n),r.Bb(1),r.wc(" ",n," ")}}function hv(t,e){if(1&t){var n=r.Sb();r.Rb(0,"mat-form-field",8),r.Rb(1,"mat-label"),r.uc(2,"Choose a Year"),r.Qb(),r.Rb(3,"mat-select",24),r.Zb("ngModelChange",(function(t){return r.nc(n),r.cc().inputYear=t}))("ngModelChange",(function(t){return r.nc(n),r.cc().yearChange(t)}))("opened",(function(){return r.nc(n),r.cc().stopAutoPlay()})),r.tc(4,cv,2,2,"mat-option",25),r.Qb(),r.Qb()}if(2&t){var i=r.cc();r.Bb(3),r.hc("ngModel",i.inputYear),r.Bb(1),r.hc("ngForOf",i.years)}}function fv(t,e){if(1&t&&(r.Rb(0,"mat-option",26),r.uc(1),r.Qb()),2&t){var n=e.$implicit;r.hc("value",n),r.Bb(1),r.wc(" ",n," ")}}function dv(t,e){if(1&t){var n=r.Sb();r.Rb(0,"mat-form-field",27),r.Rb(1,"mat-label"),r.uc(2,"Interval(seconds)"),r.Qb(),r.Rb(3,"mat-select",28),r.Zb("ngModelChange",(function(t){return r.nc(n),r.cc().interval=t})),r.tc(4,fv,2,2,"mat-option",25),r.Qb(),r.Qb()}if(2&t){var i=r.cc();r.Bb(3),r.hc("ngModel",i.interval),r.Bb(1),r.hc("ngForOf",i.intervals)}}function pv(t,e){if(1&t){var n=r.Sb();r.Rb(0,"button",29),r.Zb("click",(function(){return r.nc(n),r.cc().startAutoPlay()})),r.uc(1,"Auto Play"),r.Qb()}}function mv(t,e){if(1&t){var n=r.Sb();r.Rb(0,"button",30),r.Zb("click",(function(){return r.nc(n),r.cc().stopAutoPlay()})),r.uc(1,"Stop Play"),r.Qb()}}var vv,gv,_v,yv,bv,kv=((yv=function(){function t(e){_classCallCheck(this,t),this.cdr=e,this.mapParentWidth=1e3,this.lineParentWidth=960,this.areaParentWidth=940,this.year=1743,this.years=[],this.inputYear=1743,this.interval=.1,this.intervals=[.1,.5,1,2,4],this.timeouts=[],this.autoPlaying=!1}return _createClass(t,[{key:"ngOnInit",value:function(){for(var t=this,e=1743;e<2014;e++)this.years.push(e);"undefined"!=typeof UIkit&&UIkit.util.on(document,"beforeitemshow","#slider",(function(){t.mapParent&&(t.mapParentWidth=t.mapParent.nativeElement.clientWidth),t.lineParent&&(t.lineParentWidth=t.lineParent.nativeElement.clientWidth),t.areaParent&&(t.areaParentWidth=t.areaParent.nativeElement.clientWidth),t.cdr.detectChanges()}))}},{key:"ngOnDestroy",value:function(){this.clearTimeouts()}},{key:"ngAfterViewChecked",value:function(){this.mapParent&&(this.mapParentWidth=this.mapParent.nativeElement.clientWidth),this.lineParent&&(this.lineParentWidth=this.lineParent.nativeElement.clientWidth),this.areaParent&&(this.areaParentWidth=this.areaParent.nativeElement.clientWidth),this.cdr.detectChanges()}},{key:"startAutoPlay",value:function(){this.autoPlaying||(this.autoPlaying=!0,2013===this.year&&(this.year=1743),this.changeYear(this.year))}},{key:"changeYear",value:function(t){var e=this;this.year<2013&&this.autoPlaying?this.timeouts.push(setTimeout((function(){e.year=t,e.changeYear(t+1)}),1e3*this.interval)):this.stopAutoPlay()}},{key:"stopAutoPlay",value:function(){this.autoPlaying=!1,this.clearTimeouts()}},{key:"yearChange",value:function(t){this.year=t}},{key:"clearTimeouts",value:function(){this.timeouts.forEach((function(t){clearTimeout(t)}))}}]),t}()).\u0275fac=function(t){return new(t||yv)(r.Mb(r.h))},yv.\u0275cmp=r.Gb({type:yv,selectors:[["app-dashboard"]],viewQuery:function(t,e){var n;1&t&&(r.xc(sv,!0),r.xc(lv,!0),r.xc(uv,!0)),2&t&&(r.lc(n=r.ac())&&(e.mapParent=n.first),r.lc(n=r.ac())&&(e.lineParent=n.first),r.lc(n=r.ac())&&(e.areaParent=n.first))},decls:39,vars:11,consts:[[1,"uk-section","uk-text-justify"],[1,"uk-container","uk-container-large","uk-animation-fade"],["tabindex","-1","id","slider","uk-slideshow","draggable: false; min-height: 350;",1,"uk-position-relative","uk-visible-toggle","uk-card","uk-card-default"],[1,"uk-slideshow-items"],["uk-grid","",1,"uk-grid","uk-padding-large"],[1,"uk-width-1-1","uk-text-center"],[1,"uk-width-1-5","uk-padding","uk-text-center","uk-padding-remove-top","uk-padding-remove-right","uk-visible@m"],["class","uk-margin-medium-bottom",4,"ngIf"],[1,"uk-margin-medium-bottom"],["uk-grid","",1,"uk-grid","uk-grid-small","uk-flex","uk-flex-middle","uk-text-nowrap"],["class","uk-width-1-2@m",4,"ngIf"],[1,"uk-width-expand"],["class","uk-button uk-button-primary uk-button-small",3,"click",4,"ngIf"],["class","uk-button uk-button-danger uk-button-small",3,"click",4,"ngIf"],["mapParent",""],[1,"uk-position-relative"],[3,"parentWidth","year"],[1,"uk-grid","uk-grid-small","uk-padding-large","uk-flex","uk-flex-center"],[1,"uk-width-2-3@m"],["lineParent",""],[3,"parentWidth"],["areaParent",""],["href","#","uk-slidenav-previous","","uk-slideshow-item","previous",1,"uk-position-center-left","uk-position-small","uk-hidden-hover"],["href","#","uk-slidenav-next","","uk-slideshow-item","next",1,"uk-position-center-right","uk-position-small","uk-hidden-hover"],["name","year",3,"ngModel","ngModelChange","opened"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"uk-width-1-2@m"],["name","interval",3,"ngModel","ngModelChange"],[1,"uk-button","uk-button-primary","uk-button-small",3,"click"],[1,"uk-button","uk-button-danger","uk-button-small",3,"click"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"ul",3),r.Rb(4,"li",4),r.Rb(5,"h3",5),r.uc(6,"Global Average Temperature per Year"),r.Qb(),r.Rb(7,"div",6),r.Rb(8,"h3"),r.uc(9),r.dc(10,"number"),r.Qb(),r.tc(11,hv,5,2,"mat-form-field",7),r.Rb(12,"div",8),r.uc(13," -- OR -- "),r.Qb(),r.Rb(14,"div",9),r.tc(15,dv,5,2,"mat-form-field",10),r.Rb(16,"div",11),r.tc(17,pv,2,0,"button",12),r.tc(18,mv,2,0,"button",13),r.Qb(),r.Qb(),r.Qb(),r.Rb(19,"div",11,14),r.Rb(21,"div",15),r.Nb(22,"app-map-chart",16),r.Qb(),r.Qb(),r.Qb(),r.Rb(23,"li",17),r.Rb(24,"h3"),r.uc(25,"Global Mean Sea Level per Year (GMSL per year in mm)"),r.Qb(),r.Rb(26,"div",18,19),r.Rb(28,"div",15),r.Nb(29,"app-line-chart",20),r.Qb(),r.Qb(),r.Qb(),r.Rb(30,"li",17),r.Rb(31,"h3"),r.uc(32,"Cumulative Ice Sheet Mass Changes per Year (in Gt)"),r.Qb(),r.Rb(33,"div",18,21),r.Rb(35,"div",15),r.Nb(36,"app-area-chart",20),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(37,"a",22),r.Nb(38,"a",23),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Bb(9),r.wc(" Year: ",r.ec(10,9,e.year)," "),r.Bb(2),r.hc("ngIf",e.years),r.Bb(4),r.hc("ngIf",e.intervals),r.Bb(2),r.hc("ngIf",!e.autoPlaying),r.Bb(1),r.hc("ngIf",e.autoPlaying),r.Bb(4),r.hc("parentWidth",e.mapParentWidth)("year",e.year),r.Bb(7),r.hc("parentWidth",e.lineParentWidth),r.Bb(7),r.hc("parentWidth",e.areaParentWidth))},directives:[o.k,ec,nc,rc,Hf,Tf,ov,wp,Tm,o.j,Fh],pipes:[o.d],styles:[""]}),yv),wv=((_v=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:_v}),_v.\u0275inj=r.Jb({factory:function(t){return new(t||_v)},imports:[[o.b]]}),_v),Cv=((gv=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:gv}),gv.\u0275inj=r.Jb({factory:function(t){return new(t||gv)},imports:[[o.b]]}),gv),xv=((vv=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:vv}),vv.\u0275inj=r.Jb({factory:function(t){return new(t||vv)},imports:[[o.b]]}),vv),Ov=[{path:"",component:kv}],Sv=((bv=function t(){_classCallCheck(this,t)}).\u0275mod=r.Kb({type:bv}),bv.\u0275inj=r.Jb({factory:function(t){return new(t||bv)},imports:[[o.b,i.c.forChild(Ov),wv,Wf,av,Fm,Cv,xv]]}),bv)}}]);